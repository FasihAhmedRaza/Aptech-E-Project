/** Tagove! **/!function(){var e="prototype",t="undefined",i="function",n="object",r=r||{};r.scope={},r.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},r.arrayIterator=function(e){return{next:r.arrayIteratorImpl(e)}},r.m=function(e){var i=t!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return i?i.call(e):r.arrayIterator(e)},r.ASSUME_ES5=!1,r.ASSUME_NO_NATIVE_MAP=!1,r.ASSUME_NO_NATIVE_SET=!1,r.SIMPLE_FROUND_POLYFILL=!1,r.objectCreate=r.ASSUME_ES5||i==typeof Object.create?Object.create:function(t){var i=function(){};return i[e]=t,new i},r.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},r.setPrototypeOf=i==typeof Object.setPrototypeOf?Object.setPrototypeOf:r.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,r.i=function(t,i){if(t[e]=r.objectCreate(i[e]),t[e].constructor=t,r.setPrototypeOf){var n=r.setPrototypeOf;n(t,i)}else for(n in i)if(e!=n)if(Object.defineProperties){var o=Object.getOwnPropertyDescriptor(i,n);o&&Object.defineProperty(t,n,o)}else t[n]=i[n];t.superClass_=i[e]},r.findInternal=function(e,t,i){e instanceof String&&(e+="");for(var n=e.length,r=0;r<n;r++){var o=e[r];if(t.call(i,o,r,e))return{i:r,v:o}}return{i:-1,v:void 0}},r.defineProperty=r.ASSUME_ES5||i==typeof Object.defineProperties?Object.defineProperty:function(t,i,n){t!=Array[e]&&t!=Object[e]&&(t[i]=n.value)},r.getGlobal=function(e){return t!=typeof window&&window===e?e:t!=typeof global&&null!=global?global:e},r.global=r.getGlobal(this),r.polyfill=function(e,t,i,n){if(t){for(i=r.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in i||(i[o]={}),i=i[o]}(t=t(n=i[e=e[e.length-1]]))!=n&&null!=t&&r.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},r.polyfill("Array[c$pr].find",function(e){return e||function(e,t){return r.findInternal(this,e,t).v}},"es6","es3"),r.SYMBOL_PREFIX="jscomp_symbol_",r.s=function(){r.s=function(){},r.global.Symbol||(r.global.Symbol=r.Symbol)},r.Symbol=function(){var e=0;return function(t){return r.SYMBOL_PREFIX+(t||"")+e++}}(),r.sIterator=function(){r.s();var t=r.global.Symbol.iterator;t||(t=r.global.Symbol.iterator=r.global.Symbol("iterator")),i!=typeof Array[e][t]&&r.defineProperty(Array[e],t,{configurable:!0,writable:!0,value:function(){return r.iteratorPrototype(r.arrayIteratorImpl(this))}}),r.sIterator=function(){}},r.sAsyncIterator=function(){r.s();var e=r.global.Symbol.asyncIterator;e||(e=r.global.Symbol.asyncIterator=r.global.Symbol("asyncIterator")),r.sAsyncIterator=function(){}},r.iteratorPrototype=function(e){return r.sIterator(),e={next:e},e[r.global.Symbol.iterator]=function(){return this},e},r.iteratorFromArray=function(e,t){r.sIterator(),e instanceof String&&(e+="");var i=0,n={next:function(){if(i<e.length){var r=i++;return{value:t(r,e[r]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},r.polyfill("Array[c$pr].keys",function(e){return e||function(){return r.iteratorFromArray(this,function(e){return e})}},"es6","es3"),r.polyfill("Array[c$pr].values",function(e){return e||function(){return r.iteratorFromArray(this,function(e,t){return t})}},"es8","es3"),$tgwbpk([0,3],{100:function(e,t,i){var n,r;n=[i(1),i(81),i(82),i(20),i(179),i(173),i(174),i(175),i(176),i(177),i(180),i(318),i(15),i(181),i(49),i(83),i(19),i(13),i(46),i(7),i(22)],void 0===(r=function(e,t,i,n,r,o,s,a,l,u,d,c,f,p,h,g,m){function v(t,i){return m(t,"table")&&m(11!==i.nodeType?i:i.firstChild,"tr")?e(">tbody",t)[0]||t:t}function b(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _(e){var t=C.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(t,i){var n,r;if(1===i.nodeType){if(f.hasData(t)){var o=f.access(t),s=f.set(i,o);if(o=o.events)for(r in delete s.handle,s.events={},o)for(s=0,n=o[r].length;s<n;s++)e.event.add(i,r,o[r][s])}p.hasData(t)&&(t=p.access(t),t=e.extend({},t),p.set(i,t))}}function y(i,n,r,o){n=t.apply([],n);var a,u=0,p=i.length,h=p-1,m=n[0],v=e.isFunction(m);if(v||1<p&&"string"==typeof m&&!c.checkClone&&E.test(m))return i.each(function(e){var t=i.eq(e);v&&(n[0]=m.call(this,e,t.html())),y(t,n,r,o)});if(p){var w=d(n,i[0].ownerDocument,!1,i,o),x=w.firstChild;if(1===w.childNodes.length&&(w=x),x||o){for(a=(x=e.map(l(w,"script"),b)).length;u<p;u++){var M=w;u!==h&&(M=e.clone(M,!0,!0),a&&e.merge(x,l(M,"script"))),r.call(i[u],M,u)}if(a)for(w=x[x.length-1].ownerDocument,e.map(x,_),u=0;u<a;u++)M=x[u],s.test(M.type||"")&&!f.access(M,"globalEval")&&e.contains(w,M)&&(M.src?e._evalUrl&&e._evalUrl(M.src):g(M.textContent.replace(T,""),w))}}return i}function x(t,i,n){for(var r=i?e.filter(i,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||e.cleanData(l(i)),i.parentNode&&(n&&e.contains(i.ownerDocument,i)&&u(l(i,"script")),i.parentNode.removeChild(i));return t}var M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,N=/<script|<style|<link/i,E=/checked\s*(?:[^=]|=\s*.checked.)/i,C=/^true\/(.*)/,T=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;return e.extend({htmlPrefilter:function(e){return e.replace(M,"<$1></$2>")},clone:function(t,i,n){var o,s=t.cloneNode(!0),a=e.contains(t.ownerDocument,t);if(!(c.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||e.isXMLDoc(t))){var d=l(s),f=l(t),p=0;for(o=f.length;p<o;p++){var h=f[p],g=d[p],m=g.nodeName.toLowerCase();"input"===m&&r.test(h.type)?g.checked=h.checked:"input"!==m&&"textarea"!==m||(g.defaultValue=h.defaultValue)}}if(i)if(n)for(f=f||l(t),d=d||l(s),p=0,o=f.length;p<o;p++)w(f[p],d[p]);else w(t,s);return 0<(d=l(s,"script")).length&&u(d,!a&&l(t,"script")),s},cleanData:function(t){for(var i,n,r,o=e.event.special,s=0;void 0!==(n=t[s]);s++)if(h(n)){if(i=n[f.expando]){if(i.events)for(r in i.events)o[r]?e.event.remove(n,r):e.removeEvent(n,r,i.handle);n[f.expando]=void 0}n[p.expando]&&(n[p.expando]=void 0)}}}),e.fn.extend({detach:function(e){return x(this,e,!0)},remove:function(e){return x(this,e)},text:function(t){return n(this,function(t){return void 0===t?e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return y(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||v(this,e).appendChild(e)})},prepend:function(){return y(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return y(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return y(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var t,i=0;null!=(t=this[i]);i++)1===t.nodeType&&(e.cleanData(l(t,!1)),t.textContent="");return this},clone:function(t,i){return t=null!=t&&t,i=null==i?t:i,this.map(function(){return e.clone(this,t,i)})},html:function(t){return n(this,function(t){var i=this[0]||{},n=0,r=this.length;if(void 0===t&&1===i.nodeType)return i.innerHTML;if("string"==typeof t&&!N.test(t)&&!a[(o.exec(t)||["",""])[1].toLowerCase()]){t=e.htmlPrefilter(t);try{for(;n<r;n++)1===(i=this[n]||{}).nodeType&&(e.cleanData(l(i,!1)),i.innerHTML=t);i=0}catch(e){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return y(this,arguments,function(i){var n=this.parentNode;0>e.inArray(this,t)&&(e.cleanData(l(this)),n&&n.replaceChild(i,this))},t)}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(t){for(var r=[],o=e(t),s=o.length-1,a=0;a<=s;a++)t=a===s?this:this.clone(!0),e(o[a])[n](t),i.apply(r,t.get());return this.pushStack(r)}}),e}.apply(t,n))||(e.exports=r)},173:function(e,t,i){void 0===(t=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i)||(e.exports=t)},174:function(e,t,i){void 0===(t=/^$|\/(?:java|ecma)script/i)||(e.exports=t)},175:function(e,t,i){(t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]}).optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td,void 0===t||(e.exports=t)},176:function(e,i,n){var r,o;r=[n(1),n(19)],void 0===(o=function(e,i){return function(n,r){var o=t!==typeof n.getElementsByTagName?n.getElementsByTagName(r||"*"):t!==typeof n.querySelectorAll?n.querySelectorAll(r||"*"):[];return void 0===r||r&&i(n,r)?e.merge([n],o):o}}.apply(i,r))||(e.exports=o)},177:function(e,t,i){var n,r;n=[i(15)],void 0===(r=function(e){return function(t,i){for(var n=0,r=t.length;n<r;n++)e.set(t[n],"globalEval",!i||e.get(i[n],"globalEval"))}}.apply(t,n))||(e.exports=r)},178:function(e,t,i){var n,r;n=[i(1),i(13),i(100),i(46)],void 0===(r=function(e){return e.fn.extend({wrapAll:function(t){return this[0]&&(e.isFunction(t)&&(t=t.call(this[0])),t=e(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(t){return e.isFunction(t)?this.each(function(i){e(this).wrapInner(t.call(this,i))}):this.each(function(){var i=e(this),n=i.contents();n.length?n.wrapAll(t):i.append(t)})},wrap:function(t){var i=e.isFunction(t);return this.each(function(n){e(this).wrapAll(i?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){e(this).replaceWith(this.childNodes)}),this}}),e}.apply(t,n))||(e.exports=r)},179:function(e,t,i){void 0===(t=/^(?:checkbox|radio)$/i)||(e.exports=t)},180:function(e,t,i){var r,o;r=[i(1),i(173),i(174),i(175),i(176),i(177)],void 0===(o=function(e,t,i,r,o,s){var a=/<|&#?\w+;/;return function(l,u,d,c,f){for(var p,h,g,m=u.createDocumentFragment(),v=[],b=0,_=l.length;b<_;b++)if((p=l[b])||0===p)if(n===e.type(p))e.merge(v,p.nodeType?[p]:p);else if(a.test(p)){for(h=h||m.appendChild(u.createElement("div")),g=(t.exec(p)||["",""])[1].toLowerCase(),g=r[g]||r._default,h.innerHTML=g[1]+e.htmlPrefilter(p)+g[2],g=g[0];g--;)h=h.lastChild;e.merge(v,h.childNodes),(h=m.firstChild).textContent=""}else v.push(u.createTextNode(p));for(m.textContent="",b=0;p=v[b++];)if(c&&-1<e.inArray(p,c))f&&f.push(p);else if(l=e.contains(p.ownerDocument,p),h=o(m.appendChild(p),"script"),l&&s(h),d)for(g=0;p=h[g++];)i.test(p.type||"")&&d.push(p);return m}}.apply(t,r))||(e.exports=o)},181:function(e,t,i){var n,r;n=[i(84)],void 0===(r=function(e){return new e}.apply(t,n))||(e.exports=r)},318:function(e,t,i){var n,r;n=[i(3),i(30)],void 0===(r=function(e,t){var i=e.createDocumentFragment().appendChild(e.createElement("div"));return(e=e.createElement("input")).setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),i.appendChild(e),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",t.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,t}.apply(t,n))||(e.exports=r)},319:function(e,t,i){var n,r;n=[i(1)],void 0===(r=function(e){return function(t,i,n){for(var r=[],o=void 0!==n;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&e(t).is(n))break;r.push(t)}return r}}.apply(t,n))||(e.exports=r)},320:function(e,t,i){var n;void 0===(n=function(){return function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}.call(t,i,t,e))||(e.exports=n)},321:function(e,t,i){var n,r;n=[i(1),i(20),i(3),i(48),i(50),i(87),i(88),i(51),i(19),i(13),i(21),i(7)],void 0===(r=function(e,t,i,n,r,o,s,a,l){return e.offset={setOffset:function(t,i,n){var r=e.css(t,"position"),o=e(t),s={};"static"===r&&(t.style.position="relative");var a=o.offset(),l=e.css(t,"top"),u=e.css(t,"left");("absolute"===r||"fixed"===r)&&-1<(l+u).indexOf("auto")?(u=o.position(),l=u.top,u=u.left):(l=parseFloat(l)||0,u=parseFloat(u)||0),e.isFunction(i)&&(i=i.call(t,n,e.extend({},a))),null!=i.top&&(s.top=i.top-a.top+l),null!=i.left&&(s.left=i.left-a.left+u),"using"in i?i.using.call(t,s):o.css(s)}},e.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(i){e.offset.setOffset(this,t,i)});var i;if(i=this[0]){if(!i.getClientRects().length)return{top:0,left:0};var n=i.getBoundingClientRect(),r=i.ownerDocument;return i=r.documentElement,r=r.defaultView,{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}}},position:function(){if(this[0]){var t=this[0],i={top:0,left:0};if("fixed"===e.css(t,"position"))var n=t.getBoundingClientRect();else{var r=this.offsetParent();n=this.offset(),l(r[0],"html")||(i=r.offset()),i={top:i.top+e.css(r[0],"borderTopWidth",!0),left:i.left+e.css(r[0],"borderLeftWidth",!0)}}return{top:n.top-i.top-e.css(t,"marginTop",!0),left:n.left-i.left-e.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===e.css(t,"position");)t=t.offsetParent;return t||n})}}),e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var r="pageYOffset"===n;e.fn[i]=function(o){return t(this,function(t,i,o){if(e.isWindow(t))var s=t;else 9===t.nodeType&&(s=t.defaultView);if(void 0===o)return s?s[n]:t[i];s?s.scrollTo(r?s.pageXOffset:o,r?o:s.pageYOffset):t[i]=o},i,o,arguments.length)}}),e.each(["top","left"],function(t,i){e.cssHooks[i]=s(a.pixelPosition,function(t,n){if(n)return n=o(t,i),r.test(n)?e(t).position()[i]+"px":n})}),e}.apply(t,n))||(e.exports=r)},322:function(i,n,r){n.__esModule=!0;var o=r(80),s=r(11),a=r(439);(i=function(e){s.default.create(this),this.app=e,this.main_frame=new a.default(document),this.main_frame.manager=this,this.inside_frame=!1})[e].alert=function(e){},i[e].confirm=function(e,t){},i[e].showMinPopup=function(){var e=this,t=o.default.html('<div class="tg_uipopupalert_div"><iframe style="opacity: 0;z-index: 10000000; position: fixed; left: -100%" id="tg_uipopupalert_frame" src="'+url+'"></iframe></div>');t.find("frame").on("load",function(i){try{t[0].contentWindow.document.querySelector("*").length}catch(t){e.app.clientStorage.set("tagove-iframe-load-disabled",1),"cobrowse"==type&&e.trigger("frame-load-cobrowse",!0),console.error("iframes not supported"),console.error(t)}}),(0,o.default)("body").append(t)},i[e].getBlankFrame=function(){var e=new a.default;return e.manager=this,e},i[e].canLoadInFrame=function(e){return!("25fa1"===this.app.accountId||"1"==this.app.clientStorage.get("tagove-iframe-load-disabled",0)||"backend"==this.app.type||t!==typeof window.acquire_iso||"0"==this.app.settings().iframeLoadClient||!this.app.settings().iframeLoadClient)},i[e].isItFrameWindow=function(){return 1==this.inside_frame},i[e].checkOperation=function(e,t,i){var n=this;if(e=void 0===e?"webrtc":e,!(i=void 0!==i&&i)&&!this.canLoadInFrame(e)||1==this.inside_frame)return t(!1);if("webrtc"==e?t(!1):this.once("frame-load-"+e,t),null!==this.inside_frame){this.inside_frame=null,t=window.location.href.split("#")[0];var r=window.location.hash;t=(0<=(t=t.replace("&_f=1","").replace("?_f=1","")).split("#")[0].indexOf("?")?t+"&_f=1":t+"?_f=1")+r;var s=o.default.html('<iframe style="opacity: 0;z-index: 10000000;display:block; position: fixed; left: -100%" id="tg_ui_frame" src="'+t+'"></iframe>'),a=0;window.onpopstate=function(e){e.state&&e.state._tagove&&s&&(a++,s.attr("src",e.state._tagove))},this.app.tracker.isIOS&&s.css({overflow:this.app.tracker.isIOS?"auto":"hidden","-webkit-overflow-scrolling":"touch"}),s[0].src=t,(0,o.default)("body").append(s),"webrtc"==e&&this.trigger("frame-load-webrtc",!0);var l=!1,u=function(t){if(!l){var r=function(t){n.main_frame.change(s[0],void 0!==t&&t),n.main_frame.doc(function(e){if(e){var t=e.defaultView;if(window.history)if(0==a){document.title=e.title,t=t.location.href.replace("&_f=1","").replace("?_f=1","");try{history.pushState({_tagove:t},e.title,t)}catch(e){}}else a--;try{(0,o.default)("body *").not("#tagove-base,.tagove_frame,.aio-widget-frame,.cobrowsing-secure-border,.cobrowsing-secure-border *,#tagove-new,#tagove-standard,.tgStyle,#tgStyle,#tgStyle *,.tgCobClose,.tgCobClose *,.tg-url.bar,.tg-url.bar *,.tagove-livechat-widget-popup,.tagove-citibank,.tagove-livechat-widget-popup *,#tg_ui_frame,#tagove-base *,.tagove-livechat-widget,.tagove-livechat-widget *,.tagove_cookie,.tagove_cookie *,#tagove-self-developed,#tagove-self-developed *,#tagove-new,#tagove-new *").remove()}catch(e){}for(e=document.body.childNodes.length;e--;)(t=document.body.childNodes[e])&&3==t.nodeType&&document.body.removeChild(t);(0,o.default)("body,html").add(s).css({"min-height":window.innerHeight,height:"100%",width:"100%",margin:0,padding:0,border:"none",overflow:n.app.tracker.isIOS?"auto":"hidden","-webkit-overflow-scrolling":"touch"}),s.css({opacity:1,position:"static",height:window.innerHeight+" !important",width:window.innerWidth+" !important"}),(0,o.default)(window).on("resize",function(){s&&s.hasClass("tgnoresizecheck")||s.css({height:window.innerHeight+" !important",width:window.innerWidth+" !important"})}),(0,o.default)(window).trigger("resize"),n.app.tracker.isIOS&&(0,o.default)("body,html").css({overflow:n.app.tracker.isIOS?"auto":"hidden","-webkit-overflow-scrolling":"touch"}),n.trigger("frame-load",!1),n.inside_frame=!0}}),"cobrowse"==e&&n.trigger("frame-load-cobrowse",!0),s.off("load",u)},d=function(){console.error("iframes not supported"),console.error(t),n.app.clientStorage.set("tagove-iframe-load-disabled",1),"cobrowse"==e&&n.trigger("frame-load-cobrowse",!0),s.off("load",u)};try{s[0].contentWindow.document.querySelector("*").length,r()}catch(t){i?l?d():(l=!0,console.error("iframes not supported, switching to about:blank"),console.error(t),s.attr("src","about:blank"),setTimeout(function(){try{var e=s[0].contentDocument}catch(e){return void d()}e&&r(!0)},1e3)):(n.app.clientStorage.set("tagove-iframe-load-disabled",1),"cobrowse"==e&&n.trigger("frame-load-cobrowse",!0),console.error("iframes not supported"),console.error(t))}}};s.on("load",u)}},i[e].getPopUP=function(e,t,i,n,r){var s=this;n=void 0===n?600:n,r=void 0===r?490:r;var a=(0,o.default)("#tgpop-"+e);if(0<a.length)i(a,(0,o.default)("body",a[0].contentWindow.document));else{var l=o.default.html('<iframe id="tgpop-'+e+'" src="about:blank"></iframe>');l.css({border:"none",position:"fixed",display:"none",background:"transparent",zIndex:"2147483647","z-index":"2147483647"}),(0,o.default)("body").append(l),(e=l[0].contentWindow.document).open(),e.write(t),e.close(),i(l,(0,o.default)("body",e)),t=function(){var e=n,t=r;window.innerWidth<n&&(e=window.innerWidth),window.innerHeight<r&&(t=window.innerHeight),l.css({top:(window.innerHeight==t?0:(window.innerHeight-t)/2)+"px",left:(window.innerWidth==e?0:(window.innerWidth-e)/2)+"px",width:e,height:t}),"9d377"!=s.app.accountId&&"25fa1"!=s.app.accountId||l.css({"min-width":"auto"})},(0,o.default)(window).on("resize",t),t()}},i[e].uiPageUrlGetWithoutUI=function(){return window.location.href.replace("?_ui_tg_sync","").replace("&_ui_tg_sync","").replace("?_ui_tg_loaded","").replace("&_ui_tg_loaded","")},i[e].uiPageUrlGetWithUI=function(){return window.location.href},n.default=i},433:function(t,i,n){i.__esModule=!0;var r=n(11),o=n(9);(t=function(e){r.default.create(this),this.session=e}).getName=function(){return null},t[e].bind=function(e,t){},t[e].unbind=function(e,t){},t[e].onDispose=function(){},t[e].onDestroy=function(){for(var e in this)o.default.disposeKoItem(this[e]),this[e]=null},t[e].getOverlayDocument=function(){return"popup"==this.session.config.render?this.getMirrorDocument():document},t[e].getMirrorDocument=function(e){if(e=void 0===e||e,this.session&&this.session.mirror){var t=this.session.mirror.getDocument();if(t&&e&&t.body||!e)return t}return null},t[e].createHTML=function(e,t,i,n,r){if(t=void 0===t?"":t,i=void 0===i?{}:i,n=void 0===n?"div":n,r=r||this.getMirrorDocument(!1)){n=r.createElement(n),i.class=t;for(var o in i)n.setAttribute(o,i[o]);return n.innerHTML=e,n}return null},i.default=t},434:function(t,i,n){i.__esModule=!0;var r=n(10),o=n(11),s=n(9);(t=function(e,t){var i=this;o.default.create(this),this.id=e,this.module=t,this._state=null,this.self=t.channel.details.id==e;var n=r.default.trackTimeEvent("p2p","peer-join");this.on("join",function(e,t){n(),i._state=e}),this.on("leave",function(){i._state=null}),this.module.channel.on("disconnect",function(){i._state=null})})[e].onDestroy=function(){for(var e in this)s.default.disposeKoItem(this[e]),delete this[e]},t[e].onMsg=function(e,t){},t[e].msg=function(e,t){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];var r=this;this.self?(i.unshift(e),this.trigger.apply(this,i),this.onMsg.apply(this,i)):this.module&&this.module.chat&&(this.module.start(),this._state?this.module.channel.msg(this._state,e,i):this.once("join",function(t,n){r.module.channel.msg(t,e,i)}))},i.default=t},435:function(i,n,r){n.__esModule=!0,n.compressAttrMap=n.TreeMirrorClient=n.TreeMirror=void 0;var o=r(438),s=r(80);o.TreeMirror[e].getDocument=function(){return this.root},o.TreeMirror[e].dispose=function(){for(var e in this)this[e]=null};var a=o.TreeMirror[e].deserializeNode;o.TreeMirror[e].deserializeNode=function(e,i){if("number"==typeof e||"string"==typeof e){var n={};n[o.compressAttrMap.id]=e,e=n}if(null===e)return null;if(n=this.idMap[e[o.compressAttrMap.id]])return n;if(t==typeof e[o.compressAttrMap.attributes]&&(e[o.compressAttrMap.attributes]={}),"number"!=typeof e&&"string"!=typeof e)switch(e[o.compressAttrMap.nodeType]){case Node.TEXT_NODE:case Node.COMMENT_NODE:t==typeof e[o.compressAttrMap.textContent]&&(e[o.compressAttrMap.textContent]="  ");break;case Node.ELEMENT_NODE:e[o.compressAttrMap.tagName]=e[o.compressAttrMap.tagName].replace(/[^a-zA-Z-_0-9]/g,""),""==e[o.compressAttrMap.tagName]&&(e[o.compressAttrMap.tagName]="div")}return a.apply(this,[e,i])},o.TreeMirror[e].findNode=function(e){return this.idMap[e]},o.TreeMirror[e].findNodeReplace=function(e,t){this.idMap[e]=t},o.TreeMirror[e].getID=function(e){for(var t in this.idMap)if(this.idMap[t]===e)return t},o.TreeMirrorClient[e].findNode=function(e){return this.knownNodes.value(e)},o.TreeMirrorClient[e].findNodeReplace=function(e,t){return this.knownNodes.set(t,e)},o.TreeMirrorClient[e].takeShot=function(){},o.TreeMirrorClient[e].getID=function(e){return this.knownNodes.get(e)},o.TreeMirrorClient[e].getDocument=function(){return this.target},o.TreeMirrorClient[e].getUrl=function(){return this.target.defaultView.location.href},o.TreeMirrorClient[e].getBaseUrl=function(){var e=this.target.defaultView,t=e.location.href;return t=0<(0,s.default)("base",this.target).length?(0,s.default)("base",this.target).attr("href"):"about:blank"!=t&&-1==t.indexOf("javascript:")?t.match(/^(.*\/)[^\/]*$/)[1]:t,(t=0==t.indexOf("http://")||0==t.indexOf("https://")?t:e.location.protocol+"//"+e.location.host+t)&&(t=t.split("#")[0]),t},o.TreeMirrorClient[e].dispose=function(){if(this.mutationSummary){this.mutationSummary.disconnect();for(var e in this.mutationSummary)this.mutationSummary[e]=null}for(var t in this)this[t]=null},o.TreeMirrorClient[e].getCurrentState=function(e){var t=[],i=this.serializeNode(this.target);i=i&&i[o.compressAttrMap.id]?i[o.compressAttrMap.id]:i;for(var n=this.target.firstChild;n;n=n.nextSibling)t.push(this.serializeNode(n,!0,!0));e(i,t,{})},o.TreeMirrorClient[e].getDefaultMirror=function(){return{initialize:function(e,t){},applyChanged:function(e,t,i,n){},onFilterAttributes:function(e,t){return e},onFilterNode:function(e,t){return t}}},o.TreeMirrorClient[e].serializeNode=function(e,i,n){if(n=void 0!==n&&n,null===e)return null;var r=this.knownNodes.get(e),s={};if(void 0!==r&&0==n)return r;var a=!1;switch(r||(r=this.rememberNode(e),a=!0),s[o.compressAttrMap.id]=r,s[o.compressAttrMap.nodeType]=e.nodeType,s[o.compressAttrMap.nodeType]){case Node.DOCUMENT_TYPE_NODE:r=e,s[o.compressAttrMap.name]=r.name,s[o.compressAttrMap.publicId]=r.publicId,s[o.compressAttrMap.systemId]=r.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:e.textContent&&(s[o.compressAttrMap.textContent]=e.textContent);break;case Node.ELEMENT_NODE:if(r=e,s[o.compressAttrMap.tagName]=r.tagName,r.attributes.length){s[o.compressAttrMap.attributes]={};for(var l=0;l<r.attributes.length;l++){var u=r.attributes[l];s[o.compressAttrMap.attributes][u.name]=u.value}this.mirror.onFilterAttributes(s[o.compressAttrMap.attributes],r),0==Object.keys(s[o.compressAttrMap.attributes]).length&&delete s[o.compressAttrMap.attributes]}}if(t==typeof e._mutation_skipped){e=(r=this.mirror.onFilterNode(e,s)).node,s=r.data,e._mutation_skipped=!0===r.skip;var d=function(e){if(e._mutation_skipped=!0,e.nodeType==Node.ELEMENT_NODE)for(e=e.firstChild;e;e=e.nextSibling)d(e)};e._mutation_skipped&&d(e)}if(e.nodeType==Node.ELEMENT_NODE&&i&&e.childNodes.length)for(s[o.compressAttrMap.childNodes]=[],i=e.firstChild;i;i=i.nextSibling)s[o.compressAttrMap.childNodes].push(this.serializeNode(i,!0,n));return a&&!e._mutation_skipped&&e.nodeType==Node.ELEMENT_NODE&&this.mirror.bindNodeEvents(e,s),e._mutation_skipped?(s[o.compressAttrMap.textContent]="",s[o.compressAttrMap.attributes]={style:"display:none !important;"},s[o.compressAttrMap.tagName]="SKPKD"):s=this.mirror.onFilterData(e,s),s},n.TreeMirror=o.TreeMirror,n.TreeMirrorClient=o.TreeMirrorClient,n.compressAttrMap=o.compressAttrMap},437:function(t,i,n){i.__esModule=!0;var r=n(11);(t=function(e){r.default.create(this),this.events=e})[e].checkNode=function(){return!1},t[e].capture=function(e){},t[e].bind=function(){},i.default=t},438:function(n,o,s){o.__esModule=!0,o.TreeMirrorClient=o.TreeMirror=o.compressAttrMap=void 0;var a=s(461),l=s(5),u=o.compressAttrMap={nodeType:"y",id:"i",publicId:"p",name:"m",systemId:"s",textContent:"x",childNodes:"c",tagName:"t",attributes:"a",parentNode:"z",previousSibling:"b"};o.TreeMirror=function(){function t(e,t){this.root=e,this.delegate=t,this.idMap={}}return t[e].initialize=function(e,t){for(this.idMap[e]=this.root,e=0;e<t.length;e++)this.deserializeNode(t[e],this.root)},t[e].applyChanged=function(e,t,n,r){var o=this;t.forEach(function(e){var t=o.deserializeNode(e);t&&(e=o.deserializeNode(e[u.parentNode]))&&1==t instanceof HTMLElement&&1==e instanceof HTMLElement&&t.parentNode&&(i!==typeof t.contains||!1===t.contains(e))&&t.parentNode.removeChild(t)}),e.forEach(function(e){e&&(e=o.deserializeNode(e))&&e.parentNode&&e.parentNode.removeChild(e)}),t.forEach(function(e){var t=o.deserializeNode(e);if(t){var n=o.deserializeNode(e[u.parentNode]);e=e[u.previousSibling]?o.deserializeNode(e[u.previousSibling]):null;try{if(i===typeof t.contains&&!1!==t.contains(n)||t.nodeType!=Node.TEXT_NODE&&t.nodeType!=Node.COMMENT_NODE&&t.nodeType!=Node.ELEMENT_NODE||n.nodeType!==Node.ELEMENT_NODE){if(t.nodeType!=Node.TEXT_NODE&&t.nodeType!=Node.ELEMENT_NODE||"HTML"!==t.nodeName||o.root.nodeType!=Node.DOCUMENT_NODE||i===typeof o.root.contains&&!1!==o.root.contains(t))throw"do";o.root.appendChild(t)}else n.insertBefore(t,e?e.nextSibling:n.firstChild)}catch(r){!n||n.nodeType!=Node.DOCUMENT_NODE||e.nodeType!=Node.TEXT_NODE&&e.nodeType!=Node.ELEMENT_NODE||i!==typeof n.contains||!0!==n.contains(e)||(e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)),o.debug&&console.log(r)}}}),n.forEach(function(e){var t=o.deserializeNode(e);e[u.attributes]&&t&&Object.keys(e[u.attributes]).forEach(function(i){var n=e[u.attributes][i];if(null===n)t.removeAttribute(i);else try{o.delegate&&o.delegate.setAttribute&&o.delegate.setAttribute(t,i,n,e[u.attributes])||t.setAttribute(i,n)}catch(e){}})}),r.forEach(function(e){var t=o.deserializeNode(e);t&&!o.delegate.setTextContent(t,e[u.textContent])&&(t.textContent=e[u.textContent])}),e.forEach(function(e){delete o.idMap[e.id]})},t[e].deserializeNode=function(e,t){var i=this;if(null===e)return null;"number"!=typeof e&&"string"!=typeof e||(e={i:e});var n=this.idMap[e[u.id]];if(n)return n;var r=this.root.ownerDocument;switch(null===r&&(r=this.root),e[u.nodeType]){case Node.COMMENT_NODE:n=r.createComment(e[u.textContent]);break;case Node.TEXT_NODE:n=r.createTextNode("");break;case Node.DOCUMENT_TYPE_NODE:n=r.implementation.createDocumentType(e[u.name],e[u.publicId],e[u.systemId]);break;case Node.ELEMENT_NODE:this.delegate&&this.delegate.createElement&&(n=this.delegate.createElement(e[u.tagName],e)),n||(n=r.createElement(e[u.tagName])),e[u.attributes]&&Object.keys(e[u.attributes]).forEach(function(t){try{i.delegate&&i.delegate.setAttribute&&i.delegate.setAttribute(n,t,e[u.attributes][t],e[u.attributes])||n.setAttribute(t,e[u.attributes][t],e[u.attributes])}catch(e){console.error(e)}})}if(!n)return console.error("missing node, ouch "+l.stringify(e)),null;this.idMap[e[u.id]]=n;try{t&&t.appendChild(n)}catch(e){console.error(e)}if(e[u.nodeType]!=Node.TEXT_NODE||i.delegate.setTextContent(n,e[u.textContent])||(n.textContent=e[u.textContent]),e[u.childNodes])for(t=0;t<e[u.childNodes].length;t++)this.deserializeNode(e[u.childNodes][t],n);return n},t}(),o.TreeMirrorClient=function(){function i(e,i,n){this.target=e,this.mirror=i,this.nextId=1,this.knownNodes=new a.default.NodeMap,t==typeof this.mirror&&(this.mirror=this.getDefaultMirror()),i=this.serializeNode(e).id;var r=[];for(e=e.firstChild;e;e=e.nextSibling){var o=this.serializeNode(e,!0);o&&r.push(o)}this.mirror.initialize(i,r),this.initMonitor(n)}return i[e].initMonitor=function(e){var i=this,n=[{all:!0}];e&&(n=n.concat(e));try{var r=t!==typeof WebKitMutationObserver?WebKitMutationObserver:MutationObserver}catch(e){r=void 0}void 0!==r&&(this.mutationSummary=new a.default({rootNode:this.target,callback:function(e){i.applyChanged(e)},queries:n}))},i[e].getDefaultMirror=function(){return{initialize:function(e,t){},applyChanged:function(e,t,i,n){}}},i[e].disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=void 0)},i[e].rememberNode=function(e){var t=this.nextId++;return this.knownNodes.set(e,t),t},i[e].forgetNode=function(e){this.knownNodes.delete(e)},i[e].serializeNode=function(e,t){},i[e].serializeAddedAndMoved=function(e,t,i){var n=this;e=e.concat(t).concat(i);var r=new a.default.NodeMap;e.forEach(function(e){var t=e.parentNode;if(t&&!t._mutation_skipped){var i=r.get(t);i||(i=new a.default.NodeMap,r.set(t,i)),i.set(e,!0)}});var o=[];return r.keys().forEach(function(e){for(var t=(e=r.get(e)).keys();t.length;){for(t=t[0];t.previousSibling&&e.has(t.previousSibling);)t=t.previousSibling;for(;t&&e.has(t);){var i=n.serializeNode(t);null!=i&&("number"!=typeof i&&"string"!=typeof i||(i={i:i}),i[u.previousSibling]=n.serializeNode(t.previousSibling),null==i[u.previousSibling]&&delete i[u.previousSibling],i[u.parentNode]=n.serializeNode(t.parentNode),null==i[u.parentNode]&&delete i[u.parentNode],o.push(i)),e.delete(t),t=t.nextSibling}t=e.keys()}}),o},i[e].serializeAttributeChanges=function(e){var t=this,i=new a.default.NodeMap;Object.keys(e).forEach(function(n){e[n].forEach(function(e){if(e._mutation_skipped)i.delete(e,null);else{var r=i.get(e);if(!r){if("number"==typeof(r=t.serializeNode(e))||"string"==typeof r){var o={};o[u.id]=r,r=o}i.set(e,r)}!r||e._mutation_skipped?i.delete(e,null):(r[u.attributes]||(r[u.attributes]={}),r[u.attributes][n]=e.getAttribute(n))}})});for(var n=r.m(Object.keys(i.values)),o=n.next();!o.done;o=n.next())o=o.value,i.values[o]&&i.values[o][u.attributes]?(this.mirror.onFilterAttributes(i.values[o][u.attributes],i.nodes[o]),0==Object.keys(i.values[o][u.attributes]).length&&(delete i.values[o],delete i.nodes[o])):(delete i.values[o],delete i.nodes[o]);return i.keys().map(function(e){return i.get(e)})},i[e].applyChanged=function(e){var t=this,i=e[0];!function(){var e=[];i.added.forEach(function(t){t._mutation_skipped||e.push(t)}),i.added=e}(),e=i.removed.map(function(e){if(e=t.serializeNode(e))return e});for(var n=[],o=(e=r.m(e)).next();!o.done;o=e.next())(o=o.value)&&n.push(o);e=n,n=this.serializeAddedAndMoved(i.added,i.reparented,i.reordered),o=this.serializeAttributeChanges(i.attributeChanged);var s=i.characterDataChanged.map(function(e){var i=t.serializeNode(e);return"number"!=typeof i&&"string"!=typeof i||(i={i:i}),i[u.textContent]=e.textContent,i});this.mirror.applyChanged(e,n,o,s),i.removed.forEach(function(e){t.forgetNode(e)})},i}()},439:function(t,i,n){i.__esModule=!0,n(440);var r=n(53),o=n(2),s=n(10),a=n(11),l=function(e){var t=this;e=void 0===e?null:e,a.default.create(this),this.manager=this.id=null,this._iframe=o.default.observable(null),this.iframe=o.default.computed({read:function(){return t._iframe()},write:function(e){t.change(e)}}),this.window=o.default.observable(e?e.defaultView:null),this.document=o.default.observable(e)};l[e].reloadFromWindow=function(){window.location.href=window.location.href},l[e].reload=function(e){e=void 0===e?null:e,this.window()&&(this.window().location.href=e||this.window().location.href)},l.isInTree=function(e){if(!e||!e.parentNode)return!1;if(e.contains&&e.ownerDocument)return e.ownerDocument.body.contains(e);var t=e.id||generateRandomId();return e.id=t,null!==e.ownerDocument.getElementById(t)},l.onLoad=function(e,t){var i=s.default.trackTimeEvent("cobrowse","iframe-load"),n=function(){if(!l.isInTree(e))return console.error("non-tree iframe onload event");i();var n=e.contentWindow,o=s.default.trackTimeEvent("cobrowse","iframe-ready");try{n&&n.document&&(n.document,"complete"==n.document.readyState||"complete"==n.document.readyState?(o(),t(n,n.document)):n.document.addEventListener("DOMContentLoaded",function(e){o(),t(n,n.document)})),n&&(0,r.default)(n).on("beforeunload unload",function(){i=s.default.trackTimeEvent("cobrowse","iframe-reload"),t(null,null)})}catch(e){console.error("iframe access denied"),console.error(e),t(null,null)}};(0,r.default)(e).on("load",n),n()},l[e].doc=function(e){return this.document()&&e(this.document()),this.document.subscribe(e)},l[e].change=function(e,t){var i=this;t=void 0!==t&&t,null==e||e.__binded_frame_manager||(e.__binded_frame_manager=!0,this._iframe()!==e&&(this.window(null),this.document(null),this._iframe(e)),l.onLoad(e,function(n,r){n&&"about:blank"!=n.location.href||t?(i._iframe()!==e&&i._iframe(e),i.document()!==r&&i.document(r),i.window()!==n&&i.window(n),i.trigger("load",i)):(i.window._deferUpdates=!1,i.document._deferUpdates=!1,i.window(null),i.document(null))}))},i.default=l},440:function(e,i,n){i.__esModule=!0;var r=n(441),o=function(){};o.bind=function(e,i){t==typeof e.__b_events&&(e.__b_events={}),"undefiend"!=typeof e.__b_events[i]&&(e.__b_events[i]=this.manager.bindEvent(e,i))},o.unbind=function(e,i){t==typeof e.__b_events&&(e.__b_events={}),"undefiend"!=typeof e.__b_events[i]&&e.__b_events[i]()},o.eventCheck=function(e,i,n,r){n=void 0===n?null:n,r=void 0===r?null:r,n&&console.error("add event:"+i+" listener:"+n),r&&console.error("remove event:"+i+" listener:"+r),console.error(e);var o=e.__t_events;t==typeof o[i]&&(o[i]=[]),n&&o[i].push(n),r&&o[i].splice(o[i].indexOf(r),1),0<=o[i].length?this.bind(e,i):0>=o[i].length&&this.unbind(e,i),this._monitor=!0},o.monitor=function(e){if(e.nodeType===Node.ELEMENT_NODE&&t==typeof e.__t_events){if(e.__t_events={},t!==typeof e.addEventListener){var i=e.addEventListener,n=e.removeEventListener;e.addEventListener=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];o.eventCheck(e,n[0],n[1]),i.apply(e,n)},e.removeEventListener=function(t){for(var i=[],r=0;r<arguments.length;++r)i[r-0]=arguments[r];o.eventCheck(e,i[0],null,i[1]),n.apply(e,i)}}if(t!==typeof e.attachEvent){var s=e.attachEvent,a=e.detachEvent;e.attachEvent=function(t){for(var i=[],n=0;n<arguments.length;++n)i[n-0]=arguments[n];o.eventCheck(e,i[0],i[1]),s.apply(e,i)},e.detachEvent=function(t){for(var i=[],n=0;n<arguments.length;++n)i[n-0]=arguments[n];o.eventCheck(e,i[0],null,i[1]),a.apply(e,i)}}for(var l in r.default)for(var u in r.default[l].events);}},i.default=o},441:function(e,n){n.__esModule=!0,n.triggerNativeEvent=function(e,n,r,o,s,a){r=void 0!==r&&r,o=void 0===o?"Events":o,s=void 0===s?null:s,a=void 0===a?{}:a,document.createEvent?("MouseEvents"==o&&i==typeof MouseEvent?o=new MouseEvent(n,{relatedTarget:s,bubbles:r,view:window,cancelable:!1,clientX:t!=typeof a.clientX?a.clientX:0,clientY:t!=typeof a.clientY?a.clientY:0}):(o=document.createEvent(o),s&&i==typeof o.initMouseEvent?o.initMouseEvent(n,r,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,s):o.initEvent(n,r,!1)),e.dispatchEvent(o)):document.createEventObject?e.fireEvent("on"+n):i==typeof e["on"+n]&&e["on"+n]()},n.addProperty=function(e,t,i,n){var r=e[t],o=function(){return i.apply(e,[r])},s=function(t){return r=n.apply(e,[t])};if(Object.defineProperty)Object.defineProperty(e,t,{get:o,set:s});else if(e.__defineGetter__)e.__defineGetter__(t,o),e.__defineSetter__(t,s);else{var a=function(i){event.propertyName==t&&(e.detachEvent("onpropertychange",a),s(e[t]),e[t]=o,e[t].toString=o,e.attachEvent("onpropertychange",a))};e[t]=o,e[t].toString=o,e.attachEvent("onpropertychange",a)}},n.default={MouseEvents:{binds:[],way:["view"],events:{click:{bubbles:!0,cancelable:!0},contextmenu:!1,dblclick:{bubbles:!0,cancelable:!0},mousedown:{bubbles:!0,cancelable:!0},mouseenter:{bubbles:!1,cancelable:!0},mouseleave:{bubbles:!1,cancelable:!0},mousemove:{bubbles:!0,cancelable:!1},mouseover:{bubbles:!0,cancelable:!0},mouseout:{bubbles:!0,cancelable:!0},mouseup:{bubbles:!0,cancelable:!0}}},KeybroadEvents:{binds:[],way:["view"],events:{keydown:{bubbles:!0,cancelable:!0},keypress:{bubbles:!0,cancelable:!0},keyup:{bubbles:!0,cancelable:!0}}},FormEvents:{binds:[],way:["share","view"],events:{change:{bubbles:!0,cancelable:!1},blur:{bubbles:!1,cancelable:!1},focus:{bubbles:!1,cancelable:!1},input:{bubbles:!0,cancelable:!0},invalid:{bubbles:!0,cancelable:!0},reset:{bubbles:!0,cancelable:!1},search:!1,select:!1,submit:{bubbles:!0,cancelable:!0},focusin:!1,focusout:!1}},DragEvents:{binds:[],way:["view"],events:{drag:{bubbles:!0,cancelable:!0},dragend:{bubbles:!0,cancelable:!0},dragenter:{bubbles:!0,cancelable:!0},dragleave:{bubbles:!0,cancelable:!1},dragover:{bubbles:!0,cancelable:!0},dragstart:{bubbles:!0,cancelable:!0},drop:{bubbles:!0,cancelable:!0}}},FrameEvents:{binds:[],way:["share","view"],events:{scroll:{bubbles:!1,cancelable:!1},resize:{bubbles:!0,cancelable:!0}}}}},442:function(e,t,i){t.__esModule=!0,i(11);var n=i(2),o=i(434);e=function(e,t,i,r){return e=o.default.call(this,e,t)||this,e.user=i,e.client=n.default.observable(r),e},r.i(e,o.default),t.default=e},443:function(i,n,o){n.__esModule=!0;var s=o(11),a=o(9),l=o(2),u=o(23),d=o(10),c=o(12);(i=function(e,i,n){var o=this;n=void 0===n||n,s.default.create(this),this.__type=this.constructor.getName(),this.id=this.__type+"_"+e.id,this.state_id=this.__type+"_"+e.app.account().uid,this.chat=e,this.include_virtuals=n,this.app=e.app,this.channel=i;var a=d.default.trackTimeEvent("p2p-"+this.__type,"ready");this.once("ready",function(){a(),o.channel.ready&&o.channel.join(o.id,o),o.channel.on("ready",function(){t!=typeof o.channel&&o.channel.join(o.id,o)},o)},this.channel),this.tweak_users=l.default.observableArray([]),this.tweak_myself=l.default.observable(null),this.users=this.clients=this.createP2PClientList(),this.myself=this.createP2PMyClient(),this.usersGroup=this.createUserGroup(this.clients),setTimeout(function(){o.channel.ready?o.loadState():o.channel.on("ready",o.loadState.bind(o),o)},0),this.usersShowList=l.default.computed(function(){for(var e=[],i={},n=r.m(o.users()),s=n.next();!s.done;s=n.next()){var a=(s=s.value).user.id;t===typeof i[a]&&(e.push(s),i[a]={})}return e})})[e].ifReady=function(e){this.myself&&this.myself()?e():this.once("ready",e)},i[e].anyClientOnline=function(){if(this.data()&&this.data().clients)for(var e=r.m(this.data().clients),t=e.next();!t.done;t=e.next());this.app.p2p(function(e){})},i[e].isClientAvailable=function(e,t){return t=void 0!==t&&t,!(e&&e.client()&&!e.client().online&&(t&&c.default.alert("User unavailble","User is not online."),1))},i[e].loadState=function(){},i.hasRunningState=function(e,t){var i=e.type+"_"+this.getName()+"_"+e.account().uid;e.clientStorage.get(i,null,function(e){e=e?JSON.parse(e):null,t(e)},u.default.TYPE_TAGOVE)},i[e].getState=function(e){var t=this,i=this.id+"_state_"+this.app.type;return this.app.clientStorage.get(i,null,function(n){try{var r=n?JSON.parse(n):null;e(r),t.__state=r,t.setState(r)}catch(t){console.error("state parse failed: "+i),console.error(n),e(null)}},u.default.TYPE_TAGOVE)},i[e].setState=function(e){return this.__state=e=void 0===e?null:e,this.app.clientStorage.set(this.chat.app.type+"_"+this.state_id,null===e?e:JSON.stringify(e),108e3,u.default.TYPE_TAGOVE),this.app.clientStorage.set(this.id+"_state_"+this.app.type,null===e?e:JSON.stringify(e),108e3,u.default.TYPE_TAGOVE)},i[e].getUserClass=function(){},i[e].createP2PMyClient=function(){var e=this,t=this.getUserClass();return a.default.createReadableComputed(function(i){if(e.tweak_myself())return e.tweak_myself();if(e.chat&&e.chat.myself&&e.chat.myself()&&e.app.myself())for(var n in e.chat.myself().clients()){var r=e.chat.myself().clients()[n];n==e.app.myself().client.id&&(i.peek()?i.peek().client(r):(i(e.app.p2p().user(e,n,t,e.chat.myself(),r)),e.trigger("ready",e.app.p2p())))}else i.peek()&&(i.peek().trigger("dispose"),i(null))},null,!1)},i[e].createUserGroup=function(e){return l.default.computed({read:function(){for(var t=[],i=r.m(e()),n=i.next();!n.done;n=i.next()){n=n.value;for(var o=!1,s=r.m(t),a=s.next();!a.done;a=s.next())(a=a.value).user&&n.user&&a.user.id==n.user.id&&(a.clients[n.id]=n,a.virtual=a.virtual||n.client().virtual,o=!0);o||(o={user:n.user,clients:{},virtual:n.client().virtual},o.clients[n.id]=n,t.push(o))}return t},deferEvaluation:!0})},i[e].createP2PClientList=function(){var e=this,i=this.getUserClass();return a.default.createReadableComputed(function(n){if(e.tweak_users().length)return e.tweak_users();var o=n.peek(),s=[],a=function(a,l,u){if(u.virtual=!(!e.chat.data().users||!e.chat.data().users[a.id])&&e.chat.data().users[a.id].virtual,u.widget_state=!(!a.data().widget_state||t===typeof a.data().widget_state.ui)&&a.data().widget_state.ui,!u.virtual||e.include_virtuals){for(var d=!1,c=r.m(o),f=c.next();!f.done;f=c.next())(f=f.value).id==l&&(f.client(u),d=!0);d||n.push(e.app.p2p().user(e,l,i,a,u)),s.push(l)}};if(e.chat&&e.chat.users){for(var l=r.m(e.chat.users()),u=l.next();!u.done;u=l.next()){u=u.value;for(var d in u.clients())a(u,d,u.clients()[d])}if(e.chat.myself&&e.chat.myself())for(var c in e.chat.myself().clients())l=e.chat.myself().clients()[c],c!=e.app.myself().client.id&&a(e.chat.myself(),c,l);for(a=o.length-1;0<=a;--a){for(c=o[a],l=!1,u=(d=r.m(e.chat.users())).next();!u.done;u=d.next()){u=u.value;for(var f in u.clients())c.id==f&&(l=!0)}if(e.chat.myself&&e.chat.myself())for(var p in e.chat.myself().clients())p!==e.app.myself().client.id&&p===c.id&&(l=!0);l||(c.trigger("dispose"),n.remove(c))}}return o},[],!1)},i[e].onDispose=function(){if(this.users){for(var e=r.m(this.users()),t=e.next();!t.done;t=e.next())t.value.trigger("dispose");this.channel&&this.channel.quit&&this.channel.quit(this.id,this),this.myself()&&this.myself().trigger("dispose")}},i[e].onDestroy=function(){for(var e in this)a.default.disposeKoItem(this[e]),this[e]=null},i.getName=function(){},i[e].start=function(){this._started||(this._started=!0,this.chat.connectP2P(this.constructor.getName()))},i[e].broadcastMsg=function(e,t){this.channel.broadcast(this.id,e,t),this.start()},n.default=i},449:function(o,s,a){s.__esModule=!0;var l=a(442),u=a(12),d=a(80);o=function(e,t,i,n){return e=l.default.call(this,e,t,i,n)||this,e.manager=t,e.type="local",e.user=i,e.app=i.app,e._joined={},e},r.i(o,l.default),o[e].filterArgs=function(e){if(n==typeof e&&e&&t!=typeof e.length)for(var i=[],r=0;r<e.length;r++)i[r]=this.filterArgs(e[r]);else if(n==typeof e){i={};for(r in e)i[r]=this.filterArgs(e[r]);if(t!==typeof i._v&&this.user&&"visitor"==this.user.type)for(var o in i._v)i[o]=i._v[o];if(t!==typeof i._a&&this.user&&"agent"==this.user.type)for(var s in i._a)for(var a in i._a[s])i[s]=i[s]?i[s]:{},i[s][a]=i._a[s][a];delete i._v,delete i._a}else i=e;return i},o[e].msg=function(t,i){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];(n=!window.tgv_virtual_visitor||"changes"!=t&&"view"!=t?n:this.filterArgs(n)).unshift(t),l.default[e].msg.apply(this,n)},o[e].onMsg=function(e,o){for(var s=[],a=1;a<arguments.length;++a)s[a-1]=arguments[a];var l,c=this,f=function(){if("app_screen_update"==e){if(c.manager&&c.manager.sessions().length){var r=s[0],o=s[1],a=s[2],f=s[3],p=s[4];n==typeof p&&"Buffer"==p.type&&p.data&&(p=p.data);var g=s[5];0<=window.location.href.indexOf("debug")&&console.log(Date.now()+": screen-update: w:"+(a-r)+" h:"+(f-o)+" size:"+(p instanceof ArrayBuffer?p.byteLength/1024:"NonBuffer:"+p.length/2014)+"kb"),c.manager.sessions()[0].trigger("app-screen-update",c,11,r,o,a,f,p),i==typeof g&&g(!0)}}else if("app_screen"==e)r=s[0],o=s[1],a=s[2],c.manager.startView(c,1,[{y:10,i:2,m:"html",p:"",s:""},{y:1,i:14,t:"HTML",a:{lang:"en"},c:[{y:1,i:10,t:"HEAD",c:[{y:1,i:4,t:"META",a:{name:"viewport"}}]},{y:1,i:13,t:"BODY",a:{style:"position: relative; margin:0;    padding: 0;overflow: hidden;"},c:[{y:1,i:11,t:"CANVAS",a:{id:"app-sdk-canvas-xad",style:"    margin: 0px;",width:r,height:o}},null,null,null,null,null,null,null]}]}],{url:"http://app.acquire.io/s/"+acquireIO.accountId+"?page=canvas",base:"http://app.acquire.io/s/"+acquireIO.accountId+"/",window:{width:r,height:o},scroll:{top:0,left:0}},{source:"local",url:null,render:"popup",source_type:"app"},"T-0"),i==typeof a&&a(!0);else if("view"==e)c.manager.startView(c,s[0],s[1],s[2],s[3],l||h);else if("scheck"==e)i==typeof s[0]&&s[0]();else if("stop-session"==e)c.manager&&c.manager.player()&&l&&l.stop(c,!1);else if("session-switch"==e)c.manager&&c.manager.player()&&l&&c.manager.active_session(l);else if("share-cancel-request"==e)r=c.manager.myself().id,c.manager&&r!=s[0]&&c.manager._share_process&&(u.default.close(),c.manager._share_process(!1,"ignore"));else if("request-upgrade-form-silent"==e){var m=function(){c.manager.sessions()[0].config.silent=!1,c.manager.sessions()[0].silent_mode(!1),c.manager.sessions()[0].modules["user-decore"].init(),s[1](!0)};s[0]?u.default.confirm(c.app.getTransMsg(c.app.default_text.cobrowse_request_title),c.app.getTransMsg(c.app.default_text.cobrowse_request_alert),function(){m()},function(){s[1](!1)}):m()}else if("share"==e||"share-silent"==e){r=s[1],c.manager&&c.manager.sessions()&&c.manager.sessions().length&&(r=!1);var v=s[0],b=s[2];if("share-silent"==e&&(v.silent=!0),"localhost:2930"!==window.location.host&&"5d03c"!==c.app.accountId&&(window.location.hostname.match(/(([1-9]?\d|1\d\d|2[0-4]\d|25[0-5])(\.(?!$)|(?=$))){4}/)&&window.location.hostname.match(/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)/)||"localhost"===window.location.hostname||"local"===window.location.hostname||window.location.hostname.indexOf(".local")==window.location.hostname.length||0>window.location.hostname.indexOf(".")||0>window.location.hostname.indexOf(".")||"http:"!==window.location.protocol&&"https:"!==window.location.protocol))return b(!1,"Cobrowse is not supported on local domains like "+window.location.protocol+"://"+window.location.hostname);o="Agent";try{for(f in a=c.manager.chat.data().users)"agent"==a[f].type&&(o=a[f].name)}catch(e){}if(c.app.trigger("cobrowse_request",r),c.manager._share_process=function(e,t){if(!e)return b(e,t);c.manager.chat.$call("cobrowseEventLog",["start",v.source]),c.manager.startShare(v),b(e)},a=c.app.trigger("cobrowse-request",!r,c.manager._share_process),v.silent&&(r=!1),!1!==a)if(r){var _=function(){c.manager._share_process(!1)};(0,d.default)(window).on("beforeunload",_),"d87c8"!==c.app.accountId&&"80e63"!==c.app.accountId&&"7226e"!==c.app.accountId&&"9d377"!==c.app.accountId||(c.app.default_text.cobrowse_request_alert='Please click "OK" to begin a secure co-browsing session. Please note that we will not have access to your device or personal information, and we will not be able to see your screen after we end the session.'),u.default.confirm(c.app.getTransMsg(c.app.default_text.cobrowse_request_title),c.app.getTransMsg(c.app.default_text.cobrowse_request_alert).replace("{agent_name}",o),function(){c.manager._share_process(!0),(0,d.default)(window).off("beforeunload",_),c.app.trigger("cobrowse_request_confirmed")},function(){c.manager._share_process(!1),(0,d.default)(window).off("beforeunload",_),c.app.trigger("cobrowse_request_rejected")},{ok:{text:t==typeof c.app||t==typeof c.app.accountId||"frontend"!=c.app.type||"f82eb"!=c.app.accountId&&"98953"!=c.app.accountId?c.app.getTransMsg("OK"):c.app.getTransMsg("Accept"),primary:!0},cancel:{text:c.app.getTransMsg("Cancel"),primary:!1}},!0)}else c.manager._share_process(!0)}else"changes"==e?l?l.changes(c,s[0],s[1],s[2],s[3],s[4]):console.error("session not ready but changes coming.."):"stop"==e?l&&(l.config&&"remote-local"==l.config.source||window.tgv_virtual_visitor?l.stop():l.stop(c)):"unload"==e?l&&l.unloadMirror():l&&l.onMsg(c,e,s[0],s[1],s[2],s[3],s[4],s[5])};if("string"==typeof s[0]&&0==s[0].indexOf("T-")){for(var p=s.shift().split("#"),h=p.shift(),g=(a=r.m(this.manager.sessions())).next();!g.done;g=a.next())(g=g.value).session_id==h&&(l=g);if(p.length)return this.manager.if("session-"+h,function(){l.modules.iframe.setupFragments(p,function(e){l=e,f()})})}else this.manager.sessions()&&this.manager.active_session()&&(l=this.manager.active_session());f()},s.default=o},450:function(i,n,o){n.__esModule=!0,i=o(457);var s=o(11),a=o(435),l=o(463),u=o(2),d=o(464);o(322);var c=o(465),f=o(466),p=o(467),h=o(468),g=o(469),m=o(470),v=o(471),b=o(472),_=o(473),w=o(474),y=o(475),x=o(476),M=o(478),N=o(80),E=o(9),C=o(10),T=[d.default,c.default,v.default,x.default,h.default,p.default,i.default,m.default,b.default,y.default,w.default,f.default,g.default,M.default,_.default],k=function(e,t,i,n,o){var a=this;for(n=void 0===n?{}:n,o=void 0===o?0:o,s.default.create(this),this.__last_state=0,this.type=e,this.config=n,this.session_id=o,this.sub_frame="string"==typeof o&&0<=o.indexOf("#"),this.app=t.app,this.silent_cobrowse_button=!0,this.url=this.parent=null,this.users=[],this.owner=i,this.mirror=null,this.manager=t,this.modules={},this.disable_cobrowsebar=u.default.observable(n.silent||"backend"==this.manager.app.type&&"1"==this.manager.app.account().settings.disable_urlbar_agent),this.silent_mode=u.default.observable(n.silent),this.frame=u.default.observable(null),this.__temp43=u.default.computed(function(){var e=a.silent_mode()||a.manager.player();a.frame()&&a.frame().iframe()&&a.frame().iframe().setAttribute("scrolling",e?"no":"yes")}),t=(e=r.m(T)).next();!t.done;t=e.next())(t=t.value).getName()&&(this.modules[t.getName()]=new t(this));this.modules["user-decore"]&&!this.sub_frame&&this.modules["user-decore"].init(),this._last_doc_subscribe=null,this.frame.subscribe(function(){a._last_doc_subscribe&&(a._last_doc_subscribe=E.default.disposeKoItem(a._last_doc_subscribe)),a.frame()?a._last_doc_subscribe=a.frame().doc(function(e){e?a.loadMirror():a.unloadMirror()}):a.unloadMirror()}),this.app.trigger("cobrowse_session",this)};k[e].root=function(){return this.parent?this.parent.root():this},k[e].stateUpdate=function(e,t){var i=this;try{if(!this.sub_frame){this.__state_timer_up&&clearInterval(this.__state_timer_up);var n="unload"==e||0==this.__last_state?null:Date.now()-this.__last_state;if(this.__last_state="unload"==e?0:Date.now(),C.default.logEvent("cobrowse",e,null,n),this.modules&&this.modules.navigation&&this.modules.navigation.progress&&this.modules.navigation.progress(t),"unload"==e){var r=5;this.__state_timer_up=setInterval(function(){0==i.__last_state&&77>=r?(r+=10,i.modules&&i.modules.navigation&&i.modules.navigation.progress&&i.modules.navigation.progress(r)):clearInterval(i.__state_timer_up)},400)}}}catch(e){console.error(e)}},k[e].unloadMirror=function(e,t){var i=this;if(e=void 0===e||e,this.stateUpdate("unload",10),t="e2595"==this.manager.app.account().uid?"30000":"120000",this._timeout_close&&clearTimeout(this._timeout_close),this._timeout_close=setTimeout(function(){i.manager&&i.stop()},t),this.mirror){for(var n in this.modules)this.modules[n].unbind(this.mirror.target,this.mirror);this.trigger("mirror-dispose",this.mirror),this.mirror.trigger("dispose"),this._fired=this._fired.filter(function(e){return"mirror"!=e}),this.mirror=null,"view"==this.type&&(n=this.frame()&&this.frame().document()?this.frame().document():null)&&(0,N.default)(n.body,n).css({pointerEvents:"none",filter:"grayscale(0.3)",opacity:.6})}if(e&&"share"==this.type)for(e=r.m(this.users),n=e.next();!n.done;n=e.next())n=n.value,n._joined[this.session_id]=!1,n.msg("unload",this.session_id)},k[e].loadMirror=function(e){var i=this;e=void 0===e?function(){}:e,this._timeout_close&&clearTimeout(this._timeout_close);var n=this.frame()&&this.frame().document()?this.frame().document():null;if(this.mirror)return e(this.mirror,this.mirror.target);if(n){if(this.trigger("creating-mirror",n),this.stateUpdate("creating-mirror",80),"view"==this.type){(0,N.default)("*",n).remove();try{n.documentElement&&n.documentElement.remove()}catch(e){console.error(e)}try{n.doctype&&n.doctype.remove()}catch(e){}n._mirror_safe_click||(n._mirror_safe_click=!0,(0,N.default)(n,n).on("dblclick click submit",function(e){if(!e.target||"INPUT"!=e.target.nodeName||"file"!=e.target.getAttribute("type"))return e.preventDefault(),e.stopPropagation(),!1})),this.mirror=new l.default(this),this.mirror.setClient(new a.TreeMirror(n,{setTextContent:function(e,t){return i.trigger("set-text-content",e,t)},setAttribute:function(e,t,n,r){for(var o=[],s=0;s<e.attributes.length;s++){var a=e.attributes[s];a.name&&(o[a.name]=e.getAttribute(a.name))}for(var l in r)o[l]=r[l];return i.trigger("set-attribute",e,t,n,o)},createElement:function(e,t){return e=n.createElement(e),i.trigger("create-element",e,t)||e}})),this.mirror.target=n}else this.manager&&this.manager.chat&&!this.sub_frame&&this.manager.chat.$call("cobrowseEventLog",["page",n.defaultView.location.href]),this.mirror=new l.default(this),this.mirror.setClient(new a.TreeMirrorClient(n,{initialize:function(e,t){},applyChanged:function(e,n,o,s){if(0!=e.length||0!=n.length||0!=o.length||0!=s.length)for(var a=r.m(i.users),l=a.next();!l.done;l=a.next())l=l.value,t!=typeof l._joined[i.session_id]&&l._joined[i.session_id]&&(l.msg("changes",i.session_id,e,n,o,s,i.session_id),i.trigger("changes",e,n,o,s))},onFilterAttributes:function(e,t){return i.trigger("node-attributes",e,t),e},bindNodeEvents:function(e,t){i.trigger("bind-node-events",e,t)},onFilterData:function(e,t){return e={node:e,data:t},i.trigger("filter-node-data",e),e.data},onFilterNode:function(e,t){return e={node:e,data:t,skip:!1},i.trigger("filter-node",e),e}}));this.stateUpdate("created-mirror",85),this.trigger("mirror",this.mirror,n,n.defaultView.location.href);var o=function(){if(n.body&&i.mirror)for(var e in i.modules)i.modules[e].bind(n,i.mirror);else setTimeout(o,400)};o(),e(this.mirror,n)}else this.once("mirror",e)},k[e].getMirrorState=function(e){var t=this;if(!this.mirror)return console.error("mirror not found.");"share"==this.type?this.mirror.getCurrentState(function(i,n,r){t.trigger("mirror-share",t.mirror,t.mirror.target,i,n,r),e(t.mirror,t.mirror.target,i,n,r)}):e(this.mirror,this.mirror.target)},k[e].changes=function(e,t,i,n,r){var o=this;e==this.owner?this.if("mirror",function(){n.forEach(function(e){e&&e.a&&e.a.disabled&&0===Object.keys(e.a.disabled).length&&e.a.disabled.constructor===Object&&(e.a.disabled=null)}),o.trigger("changes",t,i,n,r),o.mirror.applyChanged(t,i,n,r),o.trigger("after-changes-applied",t,i,n,r)}):(console.error("owner not ready but changes coming.."),console.error(this.session_id),console.error(t),console.error(i),console.error(n),console.error(r))},k[e].share=function(e,t){var i=this;if(e instanceof k)for(var n=r.m(e.users),o=n.next();!o.done;o=n.next())this.share(o.value,{source:"remote-local",render:"main"});else 0<=this.users.indexOf(e)||"share"!=this.type||(e._joined[this.session_id]=!1,this.users.push(e),this.trigger("user-add",e),e.on("leave",function(){e._joined[i.session_id]=!1,setTimeout(function(){for(var e=0,t=0;t<=i.users.length;t++)i.users[t]&&"agent"==i.users[t].user.type&&i.users[t].user.clients()[Object.keys(i.users[t].user.clients())[t]].online&&e++;0==e&&i.stop()},6e4)},this),this.loadMirror(function(n,r){i.stateUpdate("mirror-state",90),i.getMirrorState(function(n,r,o,s,a){i.stateUpdate("mirror-state-loaded",95),e.msg("view",i.session_id,o,s,a,t),e._joined[i.session_id]=!0,i.stateUpdate("mirror-state-sent",100),n=function(){e.on("join",function(n,r){i.trigger("user-join"),i.getMirrorState(function(n,r,o,s,a){e.msg("view",i.session_id,o,s,a,t),e._joined[i.session_id]=!0})},i)},e._state?n():e.once("join",n)}),i.on("mirror",function(){i.stateUpdate("mirror-state",70),e._joined[i.session_id]=!1,i.getMirrorState(function(n,r,o,s,a){i.stateUpdate("mirror-state-loaded",85),e.msg("view",i.session_id,o,s,a,t),e._joined[i.session_id]=!0,i.stateUpdate("mirror-state-sent",100)})})}))},k[e].stop=function(e){e=void 0===e?null:e,"share"!=this.type&&this.owner&&this.owner.msg("stop",this.session_id,this.manager.sessions().length);for(var t=r.m(this.users),i=t.next();!i.done;i=t.next())i=i.value,e&&i!=e||(this.trigger("user-remove",i),i.msg("stop",this.session_id,this.manager.sessions().length));e?this.users.splice(this.users.indexOf(e),1):this.users=[],("share"==this.type&&0==this.users.length||"view"==this.type&&(!e||e&&this.owner==e))&&this.manager.broadcastMsg("stop-session",[this.session_id,this.session_id]),this.manager.stop(this)},k[e].view=function(e,t,i){var n=this;this.stateUpdate("view-request",40),"view"==this.type&&(this.mirror&&this.mirror.client&&Object.keys(this.mirror.client.idMap).length&&this.unloadMirror(!1),this.loadMirror(function(r){n.trigger("view-mirror-initialize",n.mirror,n.mirror.target,e,t,i),n.stateUpdate("mirror-initializing",70);try{r.initialize(e,t),n.stateUpdate("mirror-initialized",100)}catch(e){console.error(e)}}))},k[e].broadcastMsg=function(e,t){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];this.config&&this.config.source_type&&"app"===this.config.source_type||i.unshift(this.session_id),this.manager.broadcastMsg(e,i)},k[e].onMsg=function(e,t,i,n,r,o,s,a,l,u){this.trigger(t,e,i,n,r,o,s,a,l,u),"unload"==t&&this.unloadMirror(!1)},k[e].onDispose=function(){this.unloadMirror(!1);for(var e in this.modules)this.modules[e].trigger("dispose")},k[e].onDestroy=function(){for(var e in this)E.default.disposeKoItem(this[e]),this[e]=null},n.default=k},451:function(e,i){i.__esModule=!0,(e=function(){}).canHandleScrollEvent=function(e,i,n){return t==typeof e.__last_scroll_top||t==typeof e.__last_scroll_left||600<Date.now()-e.__last_scroll_time||(e.__last_scroll_top==i&&e.__last_scroll_left==n?e.__scroll_ignore=!1:!e.__scroll_ignore)},e.scrolling=function(e,t,i){e.__last_scroll_time=Date.now(),e.__last_scroll_top=t,e.__last_scroll_left=i,e.__scroll_ignore=!0},i.default=e},457:function(t,i,n){i.__esModule=!0;var o=n(433),s=n(458),a=n(459),l=n(460),u=n(462);t=function(e){return e=o.default.call(this,e)||this,e.modules={mouse:new a.default(e),form:new l.default(e),frame:new u.default(e),keys:new s.default(e)},e},r.i(t,o.default),t[e].bind=function(e,t){for(var i in this.modules)this.modules[i].bind(e,t)},t[e].handle=function(e,t){var i=this;this.session.on(e,function(e,n,r){for(var o=[],s=2;s<arguments.length;++s)o[s-2]=arguments[s];i.session&&i.session.mirror&&(s=i.session.mirror.findNodeByID(n))&&(o.unshift(s),o.unshift(e),t.apply(t,o))},this)},t[e].broadcast=function(e,t,i){for(var n=[],r=2;r<arguments.length;++r)n[r-2]=arguments[r];this.session&&this.session.mirror&&(r=this.session.mirror.getNodeID(e))&&(n.unshift(r),n.unshift(t),this.session.broadcastMsg.apply(this.session,n))},t.getName=function(){return"events"},t[e].onDispose=function(){for(var t in this.modules)this.modules[t].trigger("dispose");this.modules={},o.default[e].onDispose.call(this)},i.default=t},458:function(t,i,n){i.__esModule=!0;var o=n(437);t=function(e){var t=o.default.call(this,e)||this;return t.events.handle("key-event",function(e,i,n,r){var o=t.events.session.mirror;!o||"true"==i.getAttribute("contenteditable")&&0>window.location.href.indexOf("app.acquire.io")||(e=i&&"true"==i.getAttribute("contenteditable")?i.innerHTML:null,o.fire(i,n,!0,"KeyboardEvent",null,r),n=i&&"true"==i.getAttribute("contenteditable")?i.innerHTML:null,i._ne!==n&&(i._ne=n,e!==i._ne?(i._skip_input_next=!0,t.events&&"share"==t.events.session.type&&i&&"true"==i.getAttribute("contenteditable")&&t.events.broadcast(i,"input-content",null,i.innerHTML)):i._skip_input_next&&(i._skip_input_next=!1)))}),t},r.i(t,o.default),t[e].bind=function(e,t){var i=this;if(this.events.session&&this.events.session.owner&&this.events.session.owner.client()){var n=this.events.session.owner.client().name;n=n?n.toLowerCase():"",t.when(e.body,"keydown keyup keypress",function(e,t){if(!(e.target&&"file"==e.target.getAttribute("type")||!i.events.session.mirror||"true"==e.target.getAttribute("contenteditable")&&13!=e.keyCode&&"Enter"!=e.key)&&(i.events.broadcast(e.target,"key-event",e.type,{charCode:e.charCode,composed:e.composed,code:e.keyCode,keyCode:e.keyCode,key:e.key,location:e.location,which:e.which,metaKey:e.metaKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey}),n&&(0<=n.indexOf("ios")||0<=n.indexOf("android"))))return e.preventDefault(),!1},!1,!0)}},i.default=t},459:function(t,i,n){i.__esModule=!0;var o=n(437),s=n(80),a="mouseover mouseout mouseenter mouseleave mousein hover: blur:FocusEvents focus:FocusEvents mousedown mouseup mousemove click".split(" ");t=function(e){var t=o.default.call(this,e)||this;return t.events.handle("mouse-movement",function(e,i,n,r,o,s){var l=t.events.session.mirror;if(l){n="string"==typeof n?n:a[n],s=s?l.findNodeByID(s):null;try{"mousemove"==n&&t.events.session.trigger("mouse-move",e,r,o);try{"focus"!=n&&"focus:FocusEvents"!=n||(i.focus(),i.click())}catch(e){console.error(e)}if("click"==n){l._triggered_event="tg",t.events.session.trigger("mouse-click",e,r,o);try{i.click({x:r,y:o})}catch(e){l.fire(i,"click",!0,n.split(":")[1]?n.split(":")[1]:"MouseEvents",s,{clientX:r,clientY:o})}l._triggered_event=null}else 0<=n.indexOf("mouseenter")&&l.fire(i,"pointerenter",!1,n.split(":")[1]?n.split(":")[1]:"MouseEvents",s,{clientX:r,clientY:o}),0<=n.indexOf("mouseleave")&&l.fire(i,"pointerleave",!1,n.split(":")[1]?n.split(":")[1]:"MouseEvents",s,{clientX:r,clientY:o}),l.fire(i,n.split(":")[0],!0,n.split(":")[1]?n.split(":")[1]:"MouseEvents",s,{clientX:r,clientY:o})}catch(e){console.error(e)}}}),"ce14e"!=acquireIO.accountId&&"9d377"!=acquireIO.accountId||t.events.session.on("create-element",function(e,i){t.events.session.mirror.when(e,"focus blur",function(i){setTimeout(function(){t.events.session&&t.events.session.mirror&&t.events.broadcast(e,"mouse-movement",i.type,0,0,i.relatedTarget?t.events.session.mirror.getNodeID(i.relatedTarget):null)},300)},!1,!0)}),"share"!=t.events.session.type||"ce14e"!=acquireIO.accountId&&"9d377"!=acquireIO.accountId||t.events.session.on("bind-node-events",function(e){if(!e.__f){e.__f=!0;var i=e.focus;e.focus=function(){i.apply(e),t.events.broadcast(e,"mouse-movement","focus",0,0,null)}}}),t},r.i(t,o.default),t[e].bind=function(e,t){for(var i=this,n=[],o=r.m(a),l=o.next();!l.done;l=o.next())n.push(l.value.split(":")[0]);t.when(e.body,"share"==this.events.session.type?"mousemove click mouseenter mouseleave mouseover mouseout ":n.join(" "),function(e,t){if((!e.target||"file"!=e.target.getAttribute("type"))&&"mouse"===i.events.session.root().modules.drawing.draw_mode.peek()){var n=e.target;if(!n.__tg_skip_mouse_event&&null!=n&&n.parentNode&&!n.__tg_skip_mouse_event)if(n.hasAttribute("data-skip-cobrwose")||n.hasAttribute("data-skip-cobrowse")||n.hasAttribute("data-skipui-cobrowse")||0<(0,s.default)(n).parents("[data-skip-cobrwose]").length||0<(0,s.default)(n).parents("[data-skip-cobrowse]").length||0<(0,s.default)(n).parents("[data-skipui-cobrowse]").length)n.__tg_skip_mouse_event=!0;else{var r=i.getMousePosition(e);"focus"==e.type||"blur"==e.type?setTimeout(function(){i.events.session&&i.events.session.mirror&&i.events.broadcast(n,"mouse-movement",e.type,r.x,r.y,e.relatedTarget?i.events.session.mirror.getNodeID(e.relatedTarget):null)},300):3==e.which?i.events.broadcast(n,"mouse-movement","contextmenu",r.x,r.y,e.relatedTarget?i.events.session.mirror.getNodeID(e.relatedTarget):null):i.events.broadcast(n,"mouse-movement",e.type,r.x,r.y,e.relatedTarget?i.events.session.mirror.getNodeID(e.relatedTarget):null)}}},!1,!0)},t[e].getMousePosition=function(e){return{x:e.clientX,y:e.clientY}},i.default=t},46:function(e,t,i){var n,r;n=[i(1),i(47),i(319),i(320),i(86),i(19),i(13),i(85),i(7)],void 0===(r=function(e,t,i,n,r,o){function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}var a=/^(?:parents|prev(?:Until|All))/,l={children:!0,contents:!0,next:!0,prev:!0};return e.fn.extend({has:function(t){var i=e(t,this),n=i.length;return this.filter(function(){for(var t=0;t<n;t++)if(e.contains(this,i[t]))return!0})},closest:function(t,i){var n,o=0,s=this.length,a=[],l="string"!=typeof t&&e(t);if(!r.test(t))for(;o<s;o++)for(n=this[o];n&&n!==i;n=n.parentNode)if(11>n.nodeType&&(l?-1<l.index(n):1===n.nodeType&&e.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?e.uniqueSort(a):a)},index:function(i){return i?"string"==typeof i?t.call(e(i),this[0]):t.call(this,i.jquery?i[0]:i):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(t,i))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),e.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return i(e,"parentNode")},parentsUntil:function(e,t,n){return i(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return i(e,"nextSibling")},prevAll:function(e){return i(e,"previousSibling")},nextUntil:function(e,t,n){return i(e,"nextSibling",n)},prevUntil:function(e,t,n){return i(e,"previousSibling",n)},siblings:function(e){return n((e.parentNode||{}).firstChild,e)},children:function(e){return n(e.firstChild)},contents:function(t){return o(t,"iframe")?t.contentDocument:(o(t,"template")&&(t=t.content||t),e.merge([],t.childNodes))}},function(t,i){e.fn[t]=function(n,r){var o=e.map(this,i,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=e.filter(r,o)),1<this.length&&(l[t]||e.uniqueSort(o),a.test(t)&&o.reverse()),this.pushStack(o)}}),e}.apply(t,n))||(e.exports=r)},460:function(i,n,o){function s(e){for(var t=0;e=e.previousSibling;)t++;return t}n.__esModule=!0;var a=o(437),l=o(438),u=o(80),d=o(6),c=["INPUT","FORM","SELECT","TEXTAREA"],f=function(e){var i=a.default.call(this,e)||this;i.upload_id=0;var n=function(e,t){return"backend"==acquireIO.type&&(e.hasAttribute("data-skip-cobrwose")||e.hasAttribute("data-skipui-cobrowse")||e.hasAttribute("data-skip-cobrowse")||e.hasAttribute("type")&&"password"==e.hasAttribute("type")||0<(0,u.default)(e).parents("[data-skip-cobrwose]").length||0<(0,u.default)(e).parents("[data-skipui-cobrowse]").length||0<(0,u.default)(e).parents("[data-skip-cobrowse]").length)?"************************".substring(0,t.length):t};return i.events.handle("input-content-update",function(e,t,n,r,o,a){try{var l=t.ownerDocument.defaultView.getSelection().getRangeAt(0),u=l.startContainer,d=l.endContainer;for(e=[];u!==t;)e.push(s(u)),u=u.parentNode;for(u=[];d!==t;)u.push(s(d)),d=d.parentNode;t._rp={sC:e,sO:l.startOffset,eC:u,eO:l.endOffset}}catch(e){}t.innerHTML="",i.events.session.mirror.applyChanged(n,r,o,a);try{t.focus();var c,f=t.ownerDocument.defaultView.getSelection(),p=f.getRangeAt(0);r=n=t;var h=t._rp.sC;for(c=h.length;c--;)n=n.childNodes[h[c]];for(c=(h=t._rp.eC).length;c--;)r=r.childNodes[h[c]];p.setStart(n,t._rp.sO),p.setEnd(r,t._rp.eO),f.removeAllRanges(),f.addRange(p)}catch(e){}}),i.events.handle("input-content",function(e,t,n,r,o){if(t._skip_input_next)return t._skip_input_next=!1;i.events.session.mirror._triggered_event="tg","share"==i.events.session.type?((e=i.events.session.mirror.client.mutationSummary.disconnect())&&i.events.session.mirror.client.applyChanged(e),i.events.session.mirror.client.mutationSummary.reconnect(),t.innerHTML=r,r=i.events.session.mirror.client.mutationSummary.takeSummaries(),e=i.events.session.mirror.client.mirror.applyChanged,i.events.session.mirror.client.mirror.applyChanged=function(e,n,r,o){i.events.broadcast(t,"input-content-update",e,n,r,o)},r?i.events.session.mirror.client.applyChanged(r):console.error("no changse obsrved"),i.events.session.mirror.client.mirror.applyChanged=e):t.innerHTML=r,i.events.session.mirror._triggered_event=null}),i.events.handle("input-event",function(e,t,r,o,s){t._latest_value=n(t,o),i.events.session.mirror._triggered_event="tg",!0===o||!1===o?t.checked=o:(e=Object.getPrototypeOf(t),!(e=Object.getOwnPropertyDescriptor(e,"value")?Object.getOwnPropertyDescriptor(e,"value").set:null)||"ce14e"!=acquireIO.accountId&&"6a111"!=acquireIO.accountId&&"6eb63"!=acquireIO.accountId&&"9d377"!=acquireIO.accountId?((0,u.default)(t).val(n(t,o)),t.value=n(t,o)):e.call(t,o)),"change"===r&&i.events.session.mirror.fire(t,r,!0,"HTMLEvents"),"input"===r&&"6a111"!==acquireIO.accountId&&"9d377"!==acquireIO.accountId&&(i.events.session.mirror.fire(t,r,!0,"InputEvent",null,s),i.events.session.mirror.fire(t,"focus",!0,"FocusEvents",null,s)),i.events.session.mirror._triggered_event=null,t.__check_for_change&&t.__check_for_change(!0)}),i.events.handle("form-submit",function(e,t){i.events.session.mirror.fire(t,"submit",!0,"HTMLEvents")}),i.events.session.on("set-attribute",function(e,t,i,n){if("value"==t&&("INPUT"==e.nodeName||"SELECT"==e.nodeName||"TEXTAREA"==e.nodeName||"BUTTON"==e.nodeName))return e._latest_value=i,!0===i||!1===i?e.checked=i:((0,u.default)(e).val(i),e.value=i,"SELECT"==e.nodeName&&setTimeout(function(){(0,u.default)(e).val(i),e.value=i},200)),!0}),i.events.session.on("create-element",function(e,t){t=e.getAttribute("type")||(t[l.compressAttrMap.attributes]?t[l.compressAttrMap.attributes].type:""),0<=c.indexOf(e.nodeName)&&"file"!=t&&i.bindNode(!1,e)}),i.events.session.on("filter-node-data",function(e){"INPUT"==e.node.nodeName&&"file"==e.node.getAttribute("type")&&(e.node.getAttribute("data-facq-fid")||e.node.setAttribute("data-facq-fid",i.upload_id++),e.data[l.compressAttrMap.attributes]["data-facq-fid"]=e.node.getAttribute("data-facq-fid")),e.node&&e.node.nodeName&&("INPUT"==e.node.nodeName||"SELECT"==e.node.nodeName||"TEXTAREA"==e.node.nodeName||"BUTTON"==e.node.nodeName)&&(e.data[l.compressAttrMap.attributes]=e.data[l.compressAttrMap.attributes]||{},e.data[l.compressAttrMap.attributes].value=f.getNodeValue(e.node,!1,!1,i.events.session.type)),"SELECT"==e.node.nodeName&&t==typeof e.data[l.compressAttrMap.attributes].value&&(e.data[l.compressAttrMap.attributes]=e.data[l.compressAttrMap.attributes]||{},e.data[l.compressAttrMap.attributes].value=e.node.value)}),i.events.session.on("after-changes-applied",function(e,t,n,o){for(t=(e=r.m(t)).next();!t.done;t=e.next())(t=t.value)[l.compressAttrMap.parentNode]&&(t=i.events.session.mirror.findNodeByID(t[l.compressAttrMap.parentNode]))&&"SELECT"==t.nodeName&&t._latest_value&&(t.value=t._latest_value)}),i.events.session.on("bind-node-events",function(e,t){0<=c.indexOf(e.nodeName)&&"file"!==e.getAttribute("type")&&i.bindNode(!0,e,t)}),i};r.i(f,a.default),f[e].uploadProgress=function(e,t){var i=this.events.session.frame().document();if(i&&i.body){var n=(0,u.default)(i.body).find(".tgUploader");if(this.events.session.modules.navigation.progress(t),100<=t)return n.remove();0==n.length&&((0,u.default)(i.body).append('<div id="tgDrawWrapper" class="tgDrawWrapperCls tgUploader" style=" position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 999999;\n    cursor: wait;\n    background: #dddddda1;\n    text-align: left;\n    padding-top: 30%;\n    font-family: arial;\n    font-size: 50px;\n    color: #0265ff;\n    padding-left: 4%;\n    line-height: 80px;">Uploading....<br/></div>'),n=(0,u.default)(i.body).find(".tgUploader")),n[0].innerHTML="Uploading....<br/>["+t+'%] <span style="    font-size: 35px;vertical-align: middle;"> '+e+"</span>"}},f[e].uploadFile=function(e,t,i,n,r){var o=this,s=i.getAttribute("data-facq-fid"),a=new XMLHttpRequest;a.upload.onprogress=function(e){e&&o.uploadProgress(n.name,Math.ceil(e.loaded/e.total*100))},a.onreadystatechange=function(){4==a.readyState&&0<=a.responseText.indexOf("OK_DONE")&&(r(!0),o.uploadProgress(n.name,100))},a.onerror=function(e){console.error("file upload onerror"),console.error(e),o.uploadProgress(n.name,100),i.value="",r(!1)},a.open("post",d.default.remote_page_server+"/remote-page/upload",!0),a.setRequestHeader("Content-Type","binary/octet-stream"),a.setRequestHeader("X-File-Id",t),a.setRequestHeader("X-File-Node",s),a.setRequestHeader("X-File-Name",n.name),a.setRequestHeader("X-File-Size",n.size),a.setRequestHeader("X-File-Selection",e),a.setRequestHeader("X-File-Type",n.type),a.setRequestHeader("X-File-Page",this.events.session.manager.page_id),a.async=!0,a.send(n),this.uploadProgress(n.name,0)},f[e].bind=function(e,t){var i=this;"share"!=this.events.session.type&&t.when(e.body,"submit",function(e,t){if(i.events.broadcast(e.target,"form-submit"),!i.events||!i.events.session||"view"!==i.events.session.type)return e.preventDefault(),e.stopPropagation(),!1},!1,!0),t.when(e.body,"click",function(e,t){e.target&&"file"==e.target.getAttribute("type")&&"share"==i.events.session.type&&"remote-local"==i.events.session.config.source&&i.events.broadcast(e.target,"mouse-movement","click",0,0,e.relatedTarget?i.events.session.mirror.getNodeID(e.relatedTarget):null)}),t.when(e.body,"change input",function(e,t){if(console.log("change event"),"mouse"==i.events.session.root().modules.drawing.draw_mode())if(e.target&&"file"==e.target.getAttribute("type")&&"change"==e.type&&"share"!=i.events.session.type&&"remote-local"==i.events.session.config.source)if(0==e.target.files.length)i.events.broadcast(e.target,"input-event",null,null);else{var n=[],r=Math.random();for(t={x$$loop$prop$i$142:0};t.x$$loop$prop$i$142<e.target.files.length;t={x$$loop$prop$i$142:t.x$$loop$prop$i$142},t.x$$loop$prop$i$142++)n.push(function(t){return function(n){i.uploadFile(r,t.x$$loop$prop$i$142,e.target,e.target.files[t.x$$loop$prop$i$142],n)}}(t));n.push(function(){console.log("uploading finish")});var o=function(e){n.length&&e?(e=n[0],n=n.splice(1),e(o)):console.error("uploading failed")};o(!0)}else null==e.target||!e.target.parentNode||t||e.target&&"file"==e.target.getAttribute("type")||("view"==i.events.session.type&&(t=f.getNodeValue(e.target,!0,!0,i.events.session.type),e.target._latest_value=t()),e.target&&"true"==e.target.getAttribute("contenteditable")?"view"==i.events.session.type&&i.events.broadcast(e.target,"input-content",null,e.target.innerHTML):i.events.broadcast(e.target,"input-event",e.type,f.getNodeValue(e.target,!1,!1,i.events.session.type),"input"==e.type?{composed:e.composed,data:e.data,detail:e.detail,inputType:e.inputType,which:e.which,dataTransfer:null}:{}))},!1,!0)},f[e].bindFileNode=function(e,t){this.events.session.mirror.when(t,"chnage",function(){console.error("file changed")},!1)},f[e].bindNode=function(e,i,n){var r=this;if("FORM"!=i.nodeName){if("INPUT"==i.nodeName||"SELECT"==i.nodeName||"TEXTAREA"==i.nodeName||"BUTTON"==i.nodeName||"FILE"==i.nodeName){var o=f.getNodeValue(i,!0,!0,this.events.session.type);i._latest_value=o(),i.__check_for_change=function(n){if(n=void 0!==n&&n,null!=i&&i.ownerDocument&&i.ownerDocument.body&&i.ownerDocument.body.contains(i)){var s=o();if(t!=typeof s&&s!==i._latest_value){if(i._latest_value=s,!e&&"mouse"!=r.events.session.root().modules.drawing.draw_mode())return;r.events.broadcast(i,"input-event","change",f.getNodeValue(i,!1,!1,r.events.session.type),!0)}n||t===typeof s||(i.__check_value_timer&&clearTimeout(i.__check_value_timer),i.__check_value_timer=setTimeout(i.__check_for_change,800))}},e&&setTimeout(i.__check_for_change,400)}"TEXTAREA"==i.nodeName&&this.events.session.mirror.when(i,"mouseup",function(){(0,u.default)(i).attr("style")&&(0,u.default)(i).attr("style",(0,u.default)(i).attr("style"))},!1)}},f.getNodeValue=function(e,t,i,n){t=void 0!==t&&t,i=void 0!==i&&i,n=void 0===n?"view":n;var r=null;if(r=e.getAttribute("type"),"INPUT"!=e.nodeName||"checkbox"!=r&&"radio"!=r){if(n="share"==n&&(e.hasAttribute("data-skip-cobrwose")||e.hasAttribute("data-skipui-cobrowse")||e.hasAttribute("data-skip-cobrowse")||e.hasAttribute("type")&&"password"==e.hasAttribute("type")||0<(0,u.default)(e).parents("[data-skip-cobrwose]").length||0<(0,u.default)(e).parents("[data-skipui-cobrowse]").length||0<(0,u.default)(e).parents("[data-skip-cobrowse]").length),r=t||!n?(0,u.default)(e).val():"************************".substring(0,(0,u.default)(e).val().length),i&&t)return function(){var t=e.getAttribute("type");return"checkbox"==t||"radio"==t?e.checked:e.value}}else{if(i&&t)return function(){var t=e.getAttribute("type");return"checkbox"==t||"radio"==t?e.checked:e.value};r=(0,u.default)(e).isChecked()}return r},n.default=f},461:function(n,o){function s(){this.added=new h,this.removed=new h,this.maybeMoved=new h,this.oldPrevious=new h,this.moved=void 0}function a(e,t,i,n,r){this.rootNode=e,this.mutations=t,this.selectors=i,this.calcReordered=n,this.calcOldPreviousSibling=r,this.treeChanges=new v(e,t),this.entered=[],this.exited=[],this.stayedIn=new h,this.visited=new h,this.matchCache=this.characterDataOnly=this.childListChangeMap=void 0,this.processMutations()}function l(e,t){var i=this;if(this.projection=e,this.added=[],this.removed=[],this.reparented=t.all||t.element?[]:void 0,this.reordered=t.all?[]:void 0,e.getChanged(this,t.elementFilter,t.characterData),t.all||t.attribute||t.attributeList){var n=e.attributeChangedNodes(t.attribute?[t.attribute]:t.attributeList);t.attribute?this.valueChanged=n[t.attribute]||[]:(this.attributeChanged=n,t.attributeList&&t.attributeList.forEach(function(e){i.attributeChanged.hasOwnProperty(e)||(i.attributeChanged[e]=[])}))}(t.all||t.characterData)&&(n=e.getCharacterDataChanged(),t.characterData?this.valueChanged=n:this.characterDataChanged=n),this.reordered&&(this.getOldPreviousSibling=e.getOldPreviousSibling.bind(e))}function u(){}function d(){this.nextUid=1,this.uid=this.nextUid++,this.qualifiers=[]}function c(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!(e=e.trim()))throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(w))throw Error("Invalid request option. invalid attribute name: "+e);return e}function f(t){var i=this;this.connected=!1,this.options=this.validateOptions(t),this.observerOptions=this.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array[e].concat.apply([],this.options.queries.map(function(e){return e.elementFilter?e.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some(function(e){return e.all}),this.queryValidators=[],this.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return this.createQueryValidator(i.root,e)})),this.observer=new p(function(e){i.observerCallback(e)}),this.reconnect()}o.__esModule=!0;try{var p=t!==typeof WebKitMutationObserver?WebKitMutationObserver:MutationObserver}catch(e){p=void 0}var h=function(){this.nodes=[],this.values=[]};h[e].isIndex=function(e){return+e==e>>>0},h[e].nodeId=function(e){var t=e[h.ID_PROP];return t||(t=e[h.ID_PROP]=h.nextId_++),t},h[e].set=function(e,t){var i=this.nodeId(e);this.nodes[i]=e,this.values[i]=t},h[e].value=function(e){for(var t in this.values)if(this.values[t]==e)return this.nodes[t]},h[e].get=function(e){return e=this.nodeId(e),this.values[e]},h[e].has=function(e){return this.nodeId(e)in this.nodes},h[e].delete=function(e){e=this.nodeId(e),delete this.nodes[e],this.values[e]=void 0},h[e].keys=function(){var e,t=[];for(e in this.nodes)this.isIndex(e)&&t.push(this.nodes[e]);return t},h.nextId_=1,h.ID_PROP="__mutation_summary_node_map_id__";var g;!function(e){e[e.STAYED_OUT=0]="STAYED_OUT",e[e.ENTERED=1]="ENTERED",e[e.STAYED_IN=2]="STAYED_IN",e[e.REPARENTED=3]="REPARENTED",e[e.REORDERED=4]="REORDERED",e[e.EXITED=5]="EXITED"}(g||(g={}));var m=function(e,t,i,n,r,o,s,a){this.node=e,this.childList=void 0!==t&&t,this.attributes=void 0!==i&&i,this.characterData=void 0!==n&&n,this.oldParentNode=void 0===r?null:r,this.added=void 0!==o&&o,this.attributeOldValues=void 0===s?null:s,this.characterDataOldValue=void 0===a?null:a,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument};m[e].getAttributeOldValue=function(e){if(this.attributeOldValues)return this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]},m[e].getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;for(var t in this.attributeOldValues)e.push(t);return e},m[e].attributeMutated=function(e,t){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues||(this.attributeOldValues[e]=t)},m[e].characterDataMutated=function(e){this.characterData||(this.characterData=!0,this.characterDataOldValue=e)},m[e].removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},m[e].insertedIntoParent=function(){this.added=this.childList=!0},m[e].getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode};var v=function(e,t){var i=h.call(this)||this;for(i.rootNode=e,i.reachableCache=void 0,i.wasReachableCache=void 0,i.anyParentsChanged=!1,i.anyAttributesChanged=!1,i.anyCharacterDataChanged=!1,e=0;e<t.length;e++){var n=t[e];switch(n.type){case"childList":i.anyParentsChanged=!0;for(var r=0;r<n.removedNodes.length;r++){var o=n.removedNodes[r];o&&i.getChange(o).removedFromParent(n.target)}for(r=0;r<n.addedNodes.length;r++)(o=n.addedNodes[r])&&i.getChange(o).insertedIntoParent();break;case"attributes":i.anyAttributesChanged=!0,(r=i.getChange(n.target)).attributeMutated(n.attributeName,n.oldValue);break;case"characterData":i.anyCharacterDataChanged=!0,(r=i.getChange(n.target)).characterDataMutated(n.oldValue)}}return i};r.i(v,h),v[e].getChange=function(e){var t=this.get(e);return t||(t=new m(e),this.set(e,t)),t},v[e].getOldParent=function(e){if(!e)return null;var t=this.get(e);return t?t.getOldParent():e.parentNode},v[e].getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new h;var t=this.reachableCache.get(e);return void 0===t&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},v[e].getWasReachable=function(e,t){if(t=void 0===t?[]:t,e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new h;var i=this.wasReachableCache.get(e);if(void 0===i){if(i=this.getOldParent(e),t.push(e),0<=t.indexOf(i))return this.wasReachableCache.set(e,!1),!1;i=this.getWasReachable(i,t),this.wasReachableCache.set(e,i)}return i},v[e].reachabilityChange=function(e){return this.getIsReachable(e)?this.getWasReachable(e)?2:1:this.getWasReachable(e)?5:0},a[e].processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var e=this.treeChanges.keys(),t=0;t<e.length;t++)this.visitNode(e[t],void 0)},a[e].visitNode=function(e,t){if(!this.visited.has(e)){this.visited.set(e,!0);var i=this.treeChanges.get(e);if((i&&i.childList||void 0==t)&&(t=this.treeChanges.reachabilityChange(e)),0!==t){if(this.matchabilityChange(e),1===t)this.entered.push(e);else if(5===t)this.exited.push(e),this.ensureHasOldPreviousSiblingIfNeeded(e);else if(2===t){var n=2;i&&i.childList&&(i.oldParentNode!==e.parentNode?(n=3,this.ensureHasOldPreviousSiblingIfNeeded(e)):this.calcReordered&&this.wasReordered(e)&&(n=4)),this.stayedIn.set(e,n)}if(2!==t)for(e=e.firstChild;e;e=e.nextSibling)this.visitNode(e,t)}}},a[e].ensureHasOldPreviousSiblingIfNeeded=function(e){if(this.calcOldPreviousSibling){this.processChildlistChanges();var t=e.parentNode,i=this.treeChanges.get(e);i&&i.oldParentNode&&(t=i.oldParentNode),(i=this.childListChangeMap.get(t))||(i=new s,this.childListChangeMap.set(t,i)),i.oldPrevious.has(e)||i.oldPrevious.set(e,e.previousSibling)}},a[e].getChanged=function(e,t,i){for(this.selectors=t,this.characterDataOnly=i,t=0;t<this.entered.length;t++){i=this.entered[t];var n=this.matchabilityChange(i);1!==n&&2!==n||e.added.push(i)}var r=this.stayedIn.keys();for(t=0;t<r.length;t++)i=r[t],1===(n=this.matchabilityChange(i))?e.added.push(i):5===n?e.removed.push(i):2===n&&(e.reparented||e.reordered)&&(n=this.stayedIn.get(i),e.reparented&&3===n?e.reparented.push(i):e.reordered&&4===n&&e.reordered.push(i));for(t=0;t<this.exited.length;t++)i=this.exited[t],5!==(n=this.matchabilityChange(i))&&2!==n||e.removed.push(i)},a[e].getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;if(0===(t=this.treeChanges.reachabilityChange(e))||1===t)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},a[e].getOldPreviousSibling=function(e){var t=e.parentNode,i=this.treeChanges.get(e);if(i&&i.oldParentNode&&(t=i.oldParentNode),!(t=this.childListChangeMap.get(t)))throw Error("getOldPreviousSibling requested on invalid node.");return t.oldPrevious.get(e)},a[e].getOldAttribute=function(e,t){if(!(e=this.treeChanges.get(e))||!e.attributes)throw Error("getOldAttribute requested on invalid node.");if(void 0===(t=e.getAttributeOldValue(t)))throw Error("getOldAttribute requested for unchanged attribute name.");return t},a[e].attributeChangedNodes=function(e){if(!this.treeChanges.anyAttributesChanged)return{};if(e)for(var t={},i={},n=0;n<e.length;n++){var r=e[n];t[r]=!0,i[r.toLowerCase()]=r}e={};var o=this.treeChanges.keys();for(n=0;n<o.length;n++){r=o[n];var s=this.treeChanges.get(r);if(s.attributes&&2===this.treeChanges.reachabilityChange(r)&&2===this.matchabilityChange(r))for(var a=r,l=s.getAttributeNamesMutated(),u=0;u<l.length;u++)r=l[u],(!t||t[r]||s.isCaseInsensitive&&i[r])&&s.getAttributeOldValue(r)!==a.getAttribute(r)&&(i&&s.isCaseInsensitive&&(r=i[r]),e[r]=e[r]||[],e[r].push(a))}return e},a[e].getOldCharacterData=function(e){if(!(e=this.treeChanges.get(e))||!e.characterData)throw Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},a[e].getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],i=0;i<e.length;i++){var n=e[i];if(2===this.treeChanges.reachabilityChange(n)){var r=this.treeChanges.get(n);r.characterData&&n.textContent!=r.characterDataOldValue&&t.push(n)}}return t},a[e].computeMatchabilityChange=function(e,t){this.matchCache||(this.matchCache=[]),this.matchCache[e.uid]||(this.matchCache[e.uid]=new h);var i=this.matchCache[e.uid],n=i.get(t);return void 0===n&&(n=e.matchabilityChange(t,this.treeChanges.get(t)),i.set(t,n)),n},a[e].matchabilityChange=function(e){var t=this;if(this.characterDataOnly)switch(e.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return 2;default:return 0}if(!this.selectors)return 2;if(e.nodeType!==Node.ELEMENT_NODE)return 0;for(var i=this.selectors.map(function(i){return t.computeMatchabilityChange(i,e)}),n=0,r=0;2!==n&&r<i.length;){switch(i[r]){case 2:n=2;break;case 1:n=5===n?2:1;break;case 5:n=1===n?2:5}r++}return n},a[e].getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new s,this.childListChangeMap.set(e,t)),t},a[e].processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new h;for(var e=0;e<this.mutations.length;e++){var t=function(e,t){!e||n.oldPrevious.has(e)||n.added.has(e)||n.maybeMoved.has(e)||t&&(n.added.has(t)||n.maybeMoved.has(t))||n.oldPrevious.set(e,t)},i=this.mutations[e];if("childList"==i.type&&(2===this.treeChanges.reachabilityChange(i.target)||this.calcOldPreviousSibling)){for(var n=this.getChildlistChange(i.target),r=i.previousSibling,o=0;o<i.removedNodes.length;o++){var s=i.removedNodes[o];t(s,r),n.added.has(s)?n.added.delete(s):(n.removed.set(s,!0),n.maybeMoved.delete(s)),r=s}for(t(i.nextSibling,r),o=0;o<i.addedNodes.length;o++)s=i.addedNodes[o],n.removed.has(s)?(n.removed.delete(s),n.maybeMoved.set(s,!0)):n.added.set(s,!0)}}}},a[e].wasReordered=function(e){function t(e){if(!e||!o.maybeMoved.has(e))return!1;var n=o.moved.get(e);if(void 0!==n)return n;if(s.has(e))n=!0;else{if(s.set(e,!0),l.has(e))n=l.get(e);else{for(n=e.previousSibling;n&&(o.added.has(n)||t(n));)n=n.previousSibling;l.set(e,n)}n=n!==i(e)}return s.has(e)?(s.delete(e),o.moved.set(e,n)):n=o.moved.get(e),n}function i(e){var n=a.get(e);if(void 0!==n)return n;for(n=o.oldPrevious.get(e);n&&(o.removed.has(n)||t(n));)n=i(n);return void 0===n&&(n=e.previousSibling),a.set(e,n),n}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var n=e.parentNode,r=this.treeChanges.get(e);r&&r.oldParentNode&&(n=r.oldParentNode);var o=this.childListChangeMap.get(n);if(!o)return!1;if(o.moved)return o.moved.get(e);o.moved=new h;var s=new h,a=new h,l=new h;return o.maybeMoved.keys().forEach(t),o.moved.get(e)},l[e].getOldParentNode=function(e){return this.projection.getOldParentNode(e)},l[e].getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},l[e].getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},l[e].getOldPreviousSibling=function(e){return this.projection.getOldPreviousSibling(e)};var b=/[a-zA-Z_]+/,_=/[a-zA-Z0-9_\-]+/;u[e].matches=function(e){if(null===e)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==e;e=e.split(" ");for(var t=0;t<e.length;t++)if(this.attrValue===e[t])return!0;return!1},u[e].toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+'~="'+this.attrValue.replace(/"/,'\\"')+'"]':"attrValue"in this?"["+this.attrName+'="'+this.attrValue.replace(/"/,'\\"')+'"]':"["+this.attrName+"]":"#"+this.attrValue},Object.defineProperty(d[e],"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(d[e],"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),d[e].isMatching=function(e){return e[this.matchesSelector](this.selectorString)},d[e].wasMatching=function(e,t,i){if(!t||!t.attributes)return i;var n=t.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==n&&n!==e.tagName)return!1;n=[];for(var r=!1,o=0;o<this.qualifiers.length;o++){var s=this.qualifiers[o],a=t.getAttributeOldValue(s.attrName);n.push(a),r=r||void 0!==a}if(!r)return i;for(o=0;o<this.qualifiers.length;o++)if(s=this.qualifiers[o],void 0===(a=n[o])&&(a=e.getAttribute(s.attrName)),!s.matches(a))return!1;return!0},d[e].matchabilityChange=function(e,t){var i=this.isMatching(e);return i?this.wasMatching(e,t,i)?2:1:this.wasMatching(e,t,i)?5:0},d.parseSelectors=function(e){function t(){n&&(r&&(n.qualifiers.push(r),r=void 0),s.push(n)),n=new d}function i(){r&&n.qualifiers.push(r),r=new u}for(var n,r,o,s=[],a=/\s/,l=1,c=0;c<e.length;){var f=e[c++];switch(l){case 1:if(f.match(b)){t(),n.tagName=f,l=2;break}if("*"==f){t(),n.tagName="*",l=3;break}if("."==f){t(),i(),n.tagName="*",r.attrName="class",r.contains=!0,l=4;break}if("#"==f){t(),i(),n.tagName="*",r.attrName="id",l=4;break}if("["==f){t(),i(),n.tagName="*",r.attrName="",l=6;break}if(f.match(a))break;throw Error("Invalid or unsupported selector syntax.");case 2:if(f.match(_)){n.tagName+=f;break}if("."==f){i(),r.attrName="class",r.contains=!0,l=4;break}if("#"==f){i(),r.attrName="id",l=4;break}if("["==f){i(),r.attrName="",l=6;break}if(f.match(a)){l=14;break}if(","==f){l=1;break}throw Error("Invalid or unsupported selector syntax.");case 3:if("."==f){i(),r.attrName="class",r.contains=!0,l=4;break}if("#"==f){i(),r.attrName="id",l=4;break}if("["==f){i(),r.attrName="",l=6;break}if(f.match(a)){l=14;break}if(","==f){l=1;break}throw Error("Invalid or unsupported selector syntax.");case 4:if(f.match(b)){r.attrValue=f,l=5;break}throw Error("Invalid or unsupported selector syntax.");case 5:if(f.match(_)){r.attrValue+=f;break}if("."==f){i(),r.attrName="class",r.contains=!0,l=4;break}if("#"==f){i(),r.attrName="id",l=4;break}if("["==f){i(),l=6;break}if(f.match(a)){l=14;break}if(","==f){l=1;break}throw Error("Invalid or unsupported selector syntax.");case 6:if(f.match(b)){r.attrName=f,l=7;break}if(f.match(a))break;throw Error("Invalid or unsupported selector syntax.");case 7:if(f.match(_)){r.attrName+=f;break}if(f.match(a)){l=8;break}if("~"==f){r.contains=!0,l=9;break}if("="==f){r.attrValue="",l=11;break}if("]"==f){l=3;break}throw Error("Invalid or unsupported selector syntax.");case 8:if("~"==f){r.contains=!0,l=9;break}if("="==f){r.attrValue="",l=11;break}if("]"==f){l=3;break}if(f.match(a))break;throw Error("Invalid or unsupported selector syntax.");case 9:if("="==f){r.attrValue="",l=11;break}throw Error("Invalid or unsupported selector syntax.");case 10:if("]"==f){l=3;break}if(f.match(a))break;throw Error("Invalid or unsupported selector syntax.");case 11:if(f.match(a))break;if('"'==f||"'"==f){o=f,l=13;break}r.attrValue+=f,l=12;break;case 12:if(f.match(a)){l=10;break}if("]"==f){l=3;break}if("'"==f||'"'==f)throw Error("Invalid or unsupported selector syntax.");r.attrValue+=f;break;case 13:if(f==o){l=10;break}r.attrValue+=f;break;case 14:if(!f.match(a)){if(","!=f)throw Error("Invalid or unsupported selector syntax.");l=1}}}switch(l){case 1:case 2:case 3:case 5:case 14:t();break;default:throw Error("Invalid or unsupported selector syntax.")}if(!s.length)throw Error("Invalid or unsupported selector syntax.");return s},d.matchesSelector=function(){var e=document.createElement("div");return i===typeof e.webkitMatchesSelector?"webkitMatchesSelector":i===typeof e.mozMatchesSelector?"mozMatchesSelector":i===typeof e.msMatchesSelector?"msMatchesSelector":"matchesSelector"};var w=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;f[e].createObserverOptions=function(e){function t(e){n.attributes&&!i||(n.attributes=!0,n.attributeOldValue=!0,e?(i=i||{},e.forEach(function(e){i[e]=!0,i[e.toLowerCase()]=!0})):i=void 0)}var i,n={childList:!0,subtree:!0};return e.forEach(function(e){e.characterData?(n.characterData=!0,n.characterDataOldValue=!0):e.all?(t(),n.characterData=!0,n.characterDataOldValue=!0):e.attribute?t([e.attribute.trim()]):(e=function(t){var i={};return e.elementFilter.forEach(function(e){e.qualifiers.forEach(function(e){i[e.attrName]=!0})}),Object.keys(i)}().concat(e.attributeList||[])).length&&t(e)}),i&&(n.attributeFilter=Object.keys(i)),n},f[e].validateOptions=function(e){for(var t in e)if(!(t in f.optionKeys))throw Error("Invalid option: "+t);if(i!==typeof e.callback)throw Error("Invalid options: callback is required and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");t={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]};for(var n=0;n<e.queries.length;n++){var r=e.queries[n];if(r.all){if(1<Object.keys(r).length)throw Error("Invalid request option. all has no options.");t.queries.push({all:!0})}else if("attribute"in r){var o={attribute:c(r.attribute)};if(o.elementFilter=d.parseSelectors("*["+o.attribute+"]"),1<Object.keys(r).length)throw Error("Invalid request option. attribute has no options.");t.queries.push(o)}else if("element"in r){var s=Object.keys(r).length;if(o={element:r.element,elementFilter:d.parseSelectors(r.element)},r.hasOwnProperty("elementAttributes")){var a=o,l=r.elementAttributes;if(!l.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");r={};var u={};l=l.split(/\s+/);for(var p=0;p<l.length;p++){var h=l[p];if(h){var g=(h=c(h)).toLowerCase();if(r[g])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");u[h]=!0,r[g]=!0}}r=Object.keys(u),a.attributeList=r,s--}if(1<s)throw Error("Invalid request option. element only allows elementAttributes option.");t.queries.push(o)}else{if(!r.characterData)throw Error("Invalid request option. Unknown query request.");if(1<Object.keys(r).length)throw Error("Invalid request option. characterData has no options.");t.queries.push({characterData:!0})}}return t},f[e].createSummaries=function(e){if(!e||!e.length)return[];e=new a(this.root,e,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);for(var t=[],i=0;i<this.options.queries.length;i++)t.push(new l(e,this.options.queries[i]));return t},f[e].checkpointQueryValidators=function(){this.queryValidators.forEach(function(e){e&&e.recordPreviousState()})},f[e].runQueryValidators=function(e){this.queryValidators.forEach(function(t,i){t&&t.validate(e[i])})},f[e].changesToReport=function(e){return e.some(function(e){return!!("added removed reordered reparented valueChanged characterDataChanged".split(" ").some(function(t){return e[t]&&e[t].length})||e.attributeChanged&&Object.keys(e.attributeChanged).some(function(t){return!!e.attributeChanged[t].length}))})},f[e].observerCallback=function(e){this.options.observeOwnChanges||this.observer.disconnect(),e=this.createSummaries(e),this.runQueryValidators(e),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(e)&&this.callback(e),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},f[e].reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},f[e].takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummaries(this.observer.takeRecords());return this.changesToReport(e)?e:void 0},f[e].disconnect=function(){var e=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,e},f.NodeMap=h,f.parseElementFilter=d.parseSelectors,f.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},o.default=f},462:function(t,n,o){n.__esModule=!0;var s=o(437),a=o(80),l=o(451);t=function(e){var t=s.default.call(this,e)||this;return t.events.handle("frame-scroll",function(e,t,n,r){l.default.scrolling(t,n,r),(0,a.default)(t).scrollTop(n),(0,a.default)(t).scrollLeft(r),document.createEvent?t.dispatchEvent(new UIEvent("scroll")):document.createEventObject?t.fireEvent("onscroll"):i==typeof t.onscroll&&t.onscroll()}),t.events.session.on("create-element",function(e){"MARQUEE"!==e.nodeName&&"MARQUEE"!==e.tagName&&t.bindNode(!1,e)}),t.events.session.on("bind-node-events",function(e){"MARQUEE"!==e.nodeName&&"MARQUEE"!==e.tagName&&t.bindNode(!0,e)}),t},r.i(t,s.default),t[e].bindNode=function(e,t){var i=this;this.events.session.mirror.when(t,"scroll",function(e){var n=(0,a.default)(e.target).scrollTop();e=(0,a.default)(e.target).scrollLeft(),l.default.canHandleScrollEvent(t,n,e)&&i.events.broadcast(t,"frame-scroll",n,e)},!1)},n.default=t},463:function(n,o,s){o.__esModule=!0;var a=s(80),l=s(4),u=s(11),d=s(9);(n=function(e){u.default.create(this),this.client=null,this.session=e,this._triggered_event=this.target=null,this.__bindings=[]})[e].setClient=function(e){this.client=e,this.target=e.target},n[e].initialize=function(e,t,i,n){this.client.initialize(e,t,i,n)},n[e].applyChanged=function(e,t,i,n){this.client?this.client.applyChanged(e,t,i,n):console.error("client not availble, still applying changes.")},n[e].getNodeID=function(e){return"string"==typeof e?e:parseInt(this.client.getID(e))},n[e].findNodeByID=function(e){return"string"==typeof e?e:this.client.findNode(e)},n[e].replaceNodeByID=function(e,t){return"string"==typeof e?e:this.client.findNodeReplace(e,t)},n[e].getUrl=function(){return this.client.getUrl()},n[e].getBaseUrl=function(){return this.client.getBaseUrl()},n[e].when=function(e,t,i,n,o,s){var u=this;n=void 0===n?null:n,o=void 0!==o&&o;var d=i;(s=void 0===s?0:s)&&(d=l.default.throttle(s,function(e,t){if(u.session&&u.session.owner)return i(e,t)}));var c=function(e){u.session&&u.client&&u.session.mirror===u&&(null==n||n&&null!==u._triggered_event||!n&&null==u._triggered_event)&&d(e,null!==u._triggered_event,u._triggered_event)};if(o){for(t=t.split(" "),s=(o=r.m(t)).next();!s.done;s=o.next())e.addEventListener(s.value,c);var f=function(){for(var i=r.m(t),n=i.next();!n.done;n=i.next())e.removeEventListener(n.value,c);u.__bindings&&0<=u.__bindings.indexOf(f)&&u.__bindings.splice(u.__bindings.indexOf(f),1)}}else(0,a.default)(e).on(t,c),f=function(){(0,a.default)(e).off(t,c),u.__bindings&&0<=u.__bindings.indexOf(f)&&u.__bindings.splice(u.__bindings.indexOf(f),1)};return this.__bindings.push(f),f},n[e].fire=function(e,n,o,s,a,l,u){if(o=void 0!==o&&o,s=void 0===s?"Events":s,a=void 0===a?null:a,l=void 0===l?{}:l,u=void 0===u?"tg":u,Array.isArray(n))for(var d=(n=r.m(n)).next();!d.done;d=n.next())this.fire(e,d.value,o,s,a,l,u);else this._triggered_event=u,document.createEvent?("MouseEvents"==s&&i==typeof MouseEvent?(s=new MouseEvent(n,{relatedTarget:a,bubbles:o,view:e.ownerDocument.defaultView,cancelable:!0,clientX:t!=typeof l.clientX?l.clientX:0,clientY:t!=typeof l.clientY?l.clientY:0}),s._tagove=!0):"KeyboardEvent"==s&&i==typeof KeyboardEvent?(l.bubbles=o,s=new KeyboardEvent(n,l),s._tagove=!0):"InputEvent"==s&&i==typeof InputEvent?(l.bubbles=o,s=new InputEvent(n,l),s._tagove=!0):"FocusEvents"==s&&i==typeof FocusEvent?(s=new FocusEvent(n,{relatedTarget:a,bubbles:o,view:e.ownerDocument.defaultView,cancelable:!0,clientX:t!=typeof l.clientX?l.clientX:0,clientY:t!=typeof l.clientY?l.clientY:0}),s._tagove=!0):(s=document.createEvent(s),a&&i==typeof s.initMouseEvent?s.initMouseEvent(n,o,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,a):s.initEvent(n,o,!0)),s._tagove=!0,e.dispatchEvent(s)):document.createEventObject&&e.fireEvent("on"+n),i==typeof e["on"+n]&&e["on"+n](),this._triggered_event=null},n[e].resume=function(){try{this.client&&this.client.mutationSummary&&this.client.mutationSummary.reconnect()}catch(e){}},n[e].pause=function(){try{this.client&&this.client.mutationSummary&&this.client.mutationSummary.disconnect()}catch(e){}},n[e].getCurrentState=function(e,t,i,n){this.client.getCurrentState(e,t,i,n)},n[e].onDispose=function(){for(var e=this.__bindings.length-1;0<=e;e--)this.__bindings[e]();this.__bindings=[]},n[e].onDestroy=function(){this.client&&this.client.dispose();for(var e in this)d.default.disposeKoItem(this[e]),this[e]=null},n[e].getDocument=function(){return this.client.getDocument()},o.default=n},464:function(t,n,o){n.__esModule=!0;var s=o(433),a=o(438),l=o(450),u=o(80),d="googlesyndication.com privacy.prisa.com prisacom.demdex.net krxd.net adnxs.com adroll.com googletagservices.com tidaltv.com rubiconproject.com amazon-adsystem.com platform.twitter.com".split(" ");t=function(e){var t=s.default.call(this,e)||this;return t.session.on("filter-node-data",function(e){var t=e.node;if(t&&t.nodeType==Node.ELEMENT_NODE&&"IFRAME"==t.tagName&&e.data[a.compressAttrMap.attributes]&&e.data[a.compressAttrMap.attributes].src)for(var i=(t=r.m(d)).next();!i.done;i=t.next())0<=e.data[a.compressAttrMap.attributes].src.indexOf(i.value)&&(e.data[a.compressAttrMap.attributes]["orig-src"]=e.data[a.compressAttrMap.attributes].src,e.data[a.compressAttrMap.attributes].src="about:blank")}),t.child_sessions={},t.session.on("set-attribute",function(e,i,n,r){if("src"==i&&"CB_FRAME_URL"==n)return(0,u.default)(e).attr("src",t.session.manager.cobrowseHTMLUrl(!0)),!0}),t.session.on("filter-node-data",function(e){var i=e.node;if(i&&i.nodeType==Node.ELEMENT_NODE&&"IFRAME"==i.tagName){if((e=e.data[a.compressAttrMap.attributes]=e.data[a.compressAttrMap.attributes]?e.data[a.compressAttrMap.attributes]:{}).src)for(var n=r.m(d),o=n.next();!o.done;o=n.next())if(0<=e.src.indexOf(o.value))return e["orig-src"]=e.src,void(e.src="about:blank");i&&t.watch(i)?(e["orig-src"]=e.src,e.src="about:blank"==e.src?"about:blank":"CB_FRAME_URL"):e.class=(e.class?e.class:"")+" tg_nocobrowse"}}),t},r.i(t,s.default),t[e].unbind=function(){for(var e in this.child_sessions)this.child_sessions[e].unloadMirror(!1,!0);this.child_sessions={}},t[e].init_view=function(e){if(!this.child_sessions[e]){this.child_sessions[e]=new l.default("view",this.session.manager,this.session.owner,{},e),this.child_sessions[e].parent=this.session;var t=this.session.mirror.findNodeByID(e),i=this.session.app.frameMananger().getBlankFrame();i.change(t),this.child_sessions[e].frame(i)}},t[e].changes=function(e,t,i,n,r,o){this.init_view(t),this.child_sessions[t].changes(e,i,n,r,o,0)},t[e].view=function(e,t,i,n,r,o){this.init_view(t),this.child_sessions[t].view(i,n,r,o,0)},t[e].setupFragments=function(e,t){var n=this.session,r=function(t,o){if(n.modules.iframe.child_sessions[t])(n=n.modules.iframe.child_sessions[t]).if("mirror",o);else{var s=n&&n.mirror?n.mirror.findNodeByID(parseInt(t)):null;if(s&&i==typeof s.getAttribute){(t=n.modules.iframe.child_sessions[t]=new l.default("view",n.manager,n.owner,{},n.session_id+"#"+t)).parent=n;var a=t.app.frameMananger().getBlankFrame();a.change(s,"about:blank"==s.getAttribute("src")),t.frame(a),t.share(n),n=t,e.length?r(e.shift(),o):o()}else console.error("child session iframe node not found. node_id: "+t),n=null,o()}};return n.if("mirror",function(){e.length?r(e.shift(),function(){t(n)}):t(n)}),n},t[e].watch=function(e){var t=this;if(this.session&&this.session.app&&this.session.app.settings()&&"0"===this.session.app.settings().nestedFrame)return!1;if(window.tgv_virtual_visitor)try{if(!e.contentWindow.document)return!1}catch(e){return console.error(e),!1}else{var i=document.createElement("A");if(i.href=e.src,!("http:"!=i.protocol&&"https:"!=i.protocol||i.host===window.location.host&&i.protocol===window.location.protocol))return!1}return setTimeout(function(){var i=t.session.mirror.getNodeID(e);if(!t.child_sessions[i]){var n=t.child_sessions[i]=new l.default("share",t.session.manager,t.session.manager.myself(),{},t.session.session_id+"#"+i);n.parent=t.session;var r=t.session.app.frameMananger().getBlankFrame();r.change(e,"about:blank"==e.getAttribute("src")),n.frame(r),n.share(t.session),t.child_sessions[i]=n}}),!0},t[e].receiveFragment=function(e,t){},t[e].shareFragment=function(e,t){},t.getName=function(){return"iframe"},n.default=t},465:function(i,n,o){n.__esModule=!0;var s=o(433),a=o(438);i=function(e){var i=s.default.call(this,e)||this;return i.skip_ui_fields=i.getCSSSelectors(i.session.app.settings().cobrowse_disabled_view),i.skip_ui_fields.push("[data-skipui-cobrowse]"),i.skip_ui_fields=i.skip_ui_fields.join(","),i.skip_input_fields=i.getCSSSelectors(i.session.app.settings().cobrowse_disabled_input_field),"6eb63"!==i.session.app.accountId&&i.skip_input_fields.push('input[type="password"]'),i.skip_input_fields.push("[data-skip-cobrowse]"),i.skip_input_fields=i.skip_input_fields.join(","),i.session.on("node-attributes",function(e,i){i.__data_cb_skip&&t!==typeof e.value&&(e.value=e.value?e.value.replace(/./g,"*"):"")},i),i.session.on("filter-node-data",function(e){var n=e.node;if(n&&n.nodeType==Node.ELEMENT_NODE&&i.initElement(e.node,e.data),i.isSkipUIElement(n)){var o=function(n){if(n.__data_cb_skipui=!0,i.keepForVisitor(e),n&&n.nodeType==Node.TEXT_NODE&&t!==typeof e.data[a.compressAttrMap.textContent]&&(e.data[a.compressAttrMap.textContent]=e.data[a.compressAttrMap.textContent].replace(/[a-zA-Z0-9]/g,function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))+(.9<Math.random()?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())):"")})),t!=typeof e.data[a.compressAttrMap.attributes]&&(delete e.data[a.compressAttrMap.attributes].href,delete e.data[a.compressAttrMap.attributes].value),n&&n.nodeType==Node.ELEMENT_NODE&&n.childNodes)for(var s=(n=r.m(n.childNodes)).next();!s.done;s=n.next())o(s.value)};o(n)}if(i.isReadOnlyElement(n)){var s=function(n){if(n.__data_cb_skip=!0,i.keepForVisitor(e),n&&n.nodeType==Node.TEXT_NODE&&"TEXTAREA"==n.parentNode.tagName&&t!==typeof e.data[a.compressAttrMap.textContent]&&(e.data[a.compressAttrMap.textContent]=e.data[a.compressAttrMap.textContent].replace(/./g,"*")),n&&n.nodeType==Node.ELEMENT_NODE&&(e.data[a.compressAttrMap.attributes]=e.data[a.compressAttrMap.attributes]?e.data[a.compressAttrMap.attributes]:{},"button"!=n.getAttribute("type")&&"submit"!=n.getAttribute("type")&&"image"!=n.getAttribute("type")&&(e.data[a.compressAttrMap.attributes].disabled="disabled"),e.data[a.compressAttrMap.attributes].value&&(e.data[a.compressAttrMap.attributes].value=e.data[a.compressAttrMap.attributes].value.replace(/./g,"*"))),n&&n.nodeType==Node.ELEMENT_NODE&&n.childNodes)for(var o=(n=r.m(n.childNodes)).next();!o.done;o=n.next())s(o.value)};s(n)}}),i},r.i(i,s.default),i[e].getCSSSelectors=function(e){e=(e=t!=typeof e&&e?e.split("\n").join(","):"").split(",");for(var i=[],n=(e=r.m(e)).next();!n.done;n=e.next())n=n.value,(n=n.trim())&&1<=n.length&&i.push(n);return i},i[e].keepForVisitor=function(e){if(window.tgv_virtual_visitor&&(e.data._v={},t!=typeof e.data[a.compressAttrMap.textContent]&&(e.data._v[a.compressAttrMap.textContent]=e.data[a.compressAttrMap.textContent]),t!=typeof e.data[a.compressAttrMap.attributes])){e.data._v[a.compressAttrMap.attributes]={};for(var i in e.data[a.compressAttrMap.attributes])e.data._v[a.compressAttrMap.attributes][i]=e.data[a.compressAttrMap.attributes][i];delete e.data._v[a.compressAttrMap.attributes].disabled}},i[e].match=function(e,t){if(e.matches)return e.matches(t);for(var i=(t=(e.document||e.ownerDocument).querySelectorAll(t)).length;0<=--i&&t.item(i)!==e;);return-1<i},i[e].initElement=function(e,t){this.match(e,this.skip_ui_fields)?(e.setAttribute("title","This section is not visible at agent side."),e.setAttribute("data-skipui-cobrowse","true"),e.__data_cb_skipui=!0,t[a.compressAttrMap.attributes]=t[a.compressAttrMap.attributes]?t[a.compressAttrMap.attributes]:{},t[a.compressAttrMap.attributes]["data-skipui-cobrowse"]="true"):this.match(e,this.skip_input_fields)&&(e.setAttribute("title","This section is not visible at agent side."),e.setAttribute("data-skip-cobrowse","true"),t[a.compressAttrMap.attributes]=t[a.compressAttrMap.attributes]?t[a.compressAttrMap.attributes]:{},t[a.compressAttrMap.attributes]["data-skip-cobrowse"]="true",e.__data_cb_skip=!0)},i[e].isSkipUIElement=function(e){return!!(e.__data_cb_skipui||e.parentNode&&e.parentNode.__data_cb_skipui)},i[e].isReadOnlyElement=function(e){return!!(this.isSkipUIElement(e)||e.__data_cb_skip||e.parentNode&&e.parentNode.__data_cb_skip)},i.getName=function(){return"apis"},n.default=i},466:function(t,i,n){i.__esModule=!0;var o=n(433);t=n(6);var s=n(80),a=t.default.proxy_server+"/proxy/";n=function(e){var t=o.default.call(this,e)||this;return t.url=null,t.base=null,t.proxy_base=null,t.rbase=null,t.fbase=null,t.enable_proxy=!(t.session.app.settings()&&"1"==t.session.app.settings().cobrowse_disable_proxy),t.disable_iframes=!(!t.session.app.settings()||"1"!=t.session.app.settings().cobrowse_disable_iframes),t.session.on("set-attribute",function(e,i,n,r){if("IFRAME"==e.tagName&&"src"==i&&t.disable_iframes)return(0,s.default)(e).attr("src","about:blank"),!0;if("OBJECT"==e.tagName&&"data"==i)return(0,s.default)(e).attr("data",t.getProxifiedUrl(n)),!0;if("IMG"==e.tagName||"IMG"==e.tagName||"SOURCE"==e.tagName||"INPUT"==e.tagName){if("src"==i)return(0,s.default)(e).attr("src",0===n.indexOf("about:blank")||0===n.indexOf("javascript:")?"about:blank":t.getAbsoluteURL(n)),!0;if("srcset"==i){for(i=n.split(","),n=0;n<i.length;n++)r=i[n].trim().split(" "),r[0]=t.getAbsoluteURL(r[0]),i[n]=1<r.length?r.join(" "):r[0];return(0,s.default)(e).attr("srcset",i.join(", ")),!0}}return"SOURCE"==e.tagName&&"src"==i?((0,s.default)(e).attr("src",t.getAbsoluteURL(n)),!0):void 0},t),t.session.on("create-element",function(e,i){if("HEAD"==e.tagName){var n=t.session.mirror.target,r=n.createElement("BASE");r.href=t.proxy_base;var o=setInterval(function(){null==r.parentNode&&t.session&&t.session.mirror&&n.head.appendChild(r)},200);t.session.once("mirror-dispose",function(){clearInterval(o)},t),e.appendChild(r)}},t),t.session.on("view-mirror-initialize",function(e,i,n,r,o){t.url=o.url,t.base=o.base,t.proxy_base=t.getProxifiedUrl(t.base)},t),t.session.on("mirror-share",function(e,i,n,r,o){t.url=o.url=e.getUrl().replace("?_f=1","").replace("&_f=1",""),t.base=o.base=e.getBaseUrl()},t),t},r.i(n,o.default),n.getName=function(){return"proxy"},n[e].isAbsolute=function(e){return(0===e.indexOf("//")||0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("data:"))&&(0===e.indexOf("//")?window.location.protocol+e:e)},n[e].getAbsoluteURL=function(e,t){if(t=void 0===t?null:t,e=e.trim(),this.isAbsolute(e))return this.isAbsolute(e);t?this.isAbsolute(t)||(t=this.getAbsoluteURL(t)):t=this.base;var i=[];t=t.split("?")[0].split("/");var n=e.split("/");3<t.length&&t.pop(),i.push(t.shift()),i.push(t.shift()),i.push(t.shift());var r=t.length;for(0==e.indexOf("/")&&(r=0,n.shift()),t.splice(r),e=0;e<n.length;e++)"."!=n[e]&&(".."==n[e]?0<t.length&&(t.pop(),0<=r&&r--):(t[r]=n[e],r++));return i.join("/")+"/"+t.join("/")},n[e].getProxifiedUrl=function(e,t,i){return i=void 0!==i&&i,(e=this.getAbsoluteURL(e,void 0===t?null:t))&&0<=e.indexOf("://"+window.location.host+"/")?e:!(this.enable_proxy||i||0<=e.indexOf("://www.mpiphp.org/")||0<=e.indexOf("://www.exerurgentcare.com/")||0<=e.indexOf("://exerurgentcare.com/")||0<=e.indexOf("://staging.exerurgentcare.com/"))||0!==e.indexOf("http:")&&0!==e.indexOf("https:")?e:this.getAbsoluteURL(e.replace("http://","http/").replace("https://","https/"),a)},i.default=n},467:function(i,n,o){n.__esModule=!0;var s=o(433),a=o(2),l=o(6),u=o(80),d=o(80),c=o(9);i=function(e){var t=s.default.call(this,e)||this;t.enabled=a.default.observable(!1),t.toolbar=a.default.observable(null);var i=e.app&&e.app.settings()&&("1"==e.app.settings().cobrowse_force_drawing||1==e.app.settings().cobrowse_force_drawing)&&e.app.myself()&&"agent"===e.app.myself().type,n=i||e.app&&e.app.settings()&&("1"==e.app.settings().drawingMode||1==e.app.settings().drawingMode)&&e.app.myself()&&"agent"===e.app.myself().type;t.must_draw_mode=a.default.observable(i),t.draw_mode=a.default.observable(n?"pen":"mouse"),t.__subx&&c.default.disposeKoItem(t.__subx),t.__subx=t.draw_mode.subscribe(function(e){i&&"mouse"==e&&(e="pen"),"selector"!=e&&t.stopSelectorMode(),"selector"==e?(t.enabled(!1),t.startSelectorMode()):"mouse"==e?(t.enabled(!1),t.cditerator=1e4*Math.ceil(Math.random()*Math.random()*1e4),t.drawEventMode="LINE",t.drawTimeOut=13e3,t.drawEventConfig={BrushType:"PEN",ShapeType:"EMPTY_RECTANGLE",LineStyle:"ARROW",LineSize:4}):"pen"==e?(t.enabled(!0),t.drawEventConfig.BrushType="PEN",t.drawEventMode="LINE"):"marker"==e&&(t.enabled(!0),t.drawEventConfig.BrushType="HIGHLIGHT",t.drawEventMode="LINE",(0,u.default)(t.toolbar()).find(".cobrowse-toolbar-dropdown").hide(),(0,u.default)(t.toolbar()).find(".cobrowse-toolbar-button").removeClass("active"));var n=navigator.maxTouchPoints||"ontouchstart"in document.documentElement;console.log("navigator.maxTouchPoints",navigator.maxTouchPoints),console.log("'ontouchstart' in document.documentElement","ontouchstart"in document.documentElement),console.log(n),n&&(console.log("have touch"),console.log("mode",e),"pen"!==e&&"marker"!=e||setTimeout(function(){(0,u.default)(t.getMirrorDocument(!0).querySelector(".tg-url a img")).trigger("mousedown"),(0,u.default)(t.getMirrorDocument(!0).querySelector(".tg-url a img")).trigger("mouseup")},100),"mouse"===e&&setTimeout(function(){(0,u.default)(t.getMirrorDocument(!0).querySelector(".tgTagoveDrawCanvasCls")).trigger("mousedown"),(0,u.default)(t.getMirrorDocument(!0).querySelector(".tgTagoveDrawCanvasCls")).trigger("mouseup")},100))}),t.cditerator=1e4*Math.ceil(Math.random()*Math.random()*1e4),t.drawEventMode="LINE",t.drawTimeOut=12e3,t.drawEventConfig={BrushType:"PEN",ShapeType:"EMPTY_RECTANGLE",LineStyle:"ARROW",LineSize:4};var r=!1,o=e.manager.app.tracker.ua;return o&&("string"==typeof o.browser.name&&"sdk"==o.browser.name.toLowerCase()&&(r=!0),""!=o.browser.name||"iphone"!=o.ua.toLowerCase()&&"android"!=o.ua.toLowerCase()||(r=!0)),t.enabled(n||r),e.on("bind-node-events",function(e){e.nodeType==Node.ELEMENT_NODE&&"BODY"==e.nodeName&&t.bindBodyMouseCanvas(e)},t),e.on("create-element",function(e){e.nodeType==Node.ELEMENT_NODE&&"BODY"==e.nodeName&&t.bindBodyMouseCanvas(e)},t),t.session.on("div_selector",function(e,i,n){t.session&&t.session.mirror&&(e="string"==typeof i?i:t.session.mirror.findNodeByID(i))&&(n?(0,d.default)(e).attr("tg_selector_active",1):(0,d.default)(e).removeAttr("tg_selector_active"))},t),t.session.on("draw_canvas",function(e,i){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];t.session.frame().document()&&(n.unshift(t.session.frame().document()),t.drawCanvasMsgImage.apply(t,n))},t),t.__subx2&&c.default.disposeKoItem(t.__subx2),t.__subx2=t.toolbar.subscribe(function(){t.toolbar()&&(t.bindToolBarEvents(t.toolbar()),"frontend"==t.session.manager.app.type&&((0,u.default)(t.toolbar()).find(".agents-only").hide(),(0,u.default)(t.toolbar()).parent().addClass("front-mode")))}),t},r.i(i,s.default),i[e].bind=function(e){var t=this;this.initDrawing(),"selector"==this.draw_mode()&&(this.stopSelectorMode(),this.startSelectorMode()),setTimeout(function(){t.enabled(!t.enabled()),setTimeout(function(){t.enabled(!t.enabled())},50)},50)},i[e].stopSelectorMode=function(){this.__selector_stop=this.__selector_stop||[];for(var e=r.m(this.__selector_stop),t=e.next();!t.done;t=e.next()){t=t.value;try{t&&t()}catch(e){console.error(e)}}this.__selector_stop=[],this.session.modules.events.paused=!1},i[e].startSelectorMode=function(){var e=this;if(this.session.mirror&&this.session.mirror.target){var t=this.session.mirror.target;this.__selector_stop=this.__selector_stop||[],t.body&&this.__selector_stop.push(this.session.mirror.when(t.body,"click",function(t){var i="1"==(0,u.default)(t.target).attr("tg_selector_active");return e.session.broadcastMsg("div_selector",parseInt(e.session.mirror.getNodeID(t.target)),!i),i?(0,d.default)(t.target).removeAttr("tg_selector_active"):(0,d.default)(t.target).attr("tg_selector_active",1),t.preventDefault(),t.stopPropagation(),!1},!1,!0)),t.body&&((0,u.default)(t.body).attr("tg_selection_mode",1),this.__selector_stop.push(function(){(0,u.default)(t.body).removeAttr("tg_selection_mode")}),this.__selector_stop.push(this.session.mirror.when(t.body,"mouseover mouseout",function(e){"mouseover"==e.type?(0,d.default)(e.target).attr("tg_selector_div",1):(0,d.default)(e.target).removeAttr("tg_selector_div")},!1,!0)))}},i.getName=function(){return"drawing"},i[e].initDrawing=function(){var e=this;this.__subx3&&c.default.disposeKoItem(this.__subx3),this.__subx3=this.enabled.subscribe(function(t){var i=e.session.frame().document();t?(t="url("+l.default.assetUrl+"img/toolbar/draw_pen.png), auto;",(0,u.default)("#tgDrawWrapper",i).remove(),t='<div id="tgDrawWrapper" class="tgDrawWrapperCls" style="position:fixed;top:0;left:0;bottom:0; right: 0;z-index: 999999;cursor:'+t+'"></div>',(0,u.default)(i.body).append(t),e.addReadonlySeal(i.body)):(e.toolbar()&&(0,u.default)(e.toolbar()).find(".cobrowse-toolbar-dropdown").css({display:"none"}),(0,u.default)("#acquireReadonlySealedFrame",i).remove(),(0,u.default)("#tgDrawWrapper",i).remove(),(0,u.default)(".tgDwnCanvasImg",i).remove())}),this.enabled.valueHasMutated()},i[e].onDispose=function(){if(this.toolbar()&&(0,u.default)(this.toolbar()).off(),this.session&&this.session.frame()&&this.session.frame().document()){var e=this.session.frame().document();e&&((0,u.default)("#tgDrawWrapper",e).remove(),(0,u.default)(".tgDwnCanvasImg",e).remove())}},i[e].when=function(e,t,i,n){if(this.session&&this.session.mirror)return this.session.mirror.when(e,t,i,void 0!==n&&n)},i[e].bindToolBarEvents=function(e){var t=this;this.when((0,u.default)(e).find(".cobrowse-toolbar-trigger")[0],"mouseup",function(i){if(t.enabled&&t.enabled()){try{if(t.session.modules.events.modules.mouse.paused)return}catch(e){}i=(0,u.default)(i.currentTarget).parents(".cobrowse-toolbar-button").children(".cobrowse-toolbar-dropdown");for(var n=(0,u.default)(e).find(".cobrowse-toolbar-dropdown"),o=(n=r.m(n)).next();!o.done;o=n.next())o=o.value,i[0].getAttribute("id")!=(0,u.default)(o)[0].getAttribute("id")&&(0,u.default)(o).hide();i.toggle()}},!1),this.when((0,u.default)(e).find(".cobrowse-toolbar-dropdown-text"),"click",function(e){if(t.enabled()){var i=(0,u.default)(e.currentTarget).attr("data-value");t.drawEventConfig.LineSize=i,(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-dropdown").hide(),(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-button").children(".cobrowse-toolbar-select").children(".cobrowse-toolbar-text").html((0,u.default)(e.currentTarget).html()),(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-button").hasClass("assembled")||((0,u.default)(".cobrowse-toolbar-button").removeClass("active"),(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-button").addClass("active"))}},!1),this.when((0,u.default)(e).find(".cobrowse-toolbar-dropdown-icon"),"click",function(e){if(t.enabled()){var i=(0,u.default)(e.currentTarget).attr("data-value");"PEN"!=i&&"HIGHLIGHT"!=i||(t.drawEventConfig.BrushType=i,t.drawEventMode="LINE"),"EMPTY_RECTANGLE"!=i&&"ROUNDED_RECTANGLE"!=i&&"ELLIPSE"!=i||(t.drawEventConfig.ShapeType=i,t.drawEventMode="SHAPE",t.draw_mode("shape")),"ARROW"!=i&&"ARROW_CURVE"!=i&&"ARROW_DOUBLE"!=i&&"LINE"!=i&&"LINE_CURVE"!=i&&"LINE_DOTTED"!=i||(t.drawEventConfig.LineStyle=i,t.drawEventMode="ARROW",t.draw_mode("arrow")),(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-dropdown").hide(),(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-button").children(".cobrowse-toolbar-select").children(".cobrowse-toolbar-text").html((0,u.default)(e.currentTarget).html()),(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-button").hasClass("assembled")||((0,u.default)(".cobrowse-toolbar-button").removeClass("active"),(0,u.default)(e.currentTarget).parents(".cobrowse-toolbar-button").addClass("active"))}},!1)},i[e].addReadonlySeal=function(e){e&&"BODY"==e.nodeName&&this.must_draw_mode()&&((0,u.default)(e).append('<div id="acquireReadonlySealedFrame" style="position:fixed;top: 0;left:0;height: 100%; width: 100%;z-index: 999998;">'),(0,u.default)(e).on("keydown",function(e){e.preventDefault()}))},i[e].bindBodyMouseCanvas=function(e){var t=this;this.addReadonlySeal(e),this.when(e,"mousedown",function(i){if(t.enabled&&t.enabled()){if(3==i.which)return i.stopImmediatePropagation(),!1;var n="default";"SHAPE"==t.drawEventMode&&(n="crosshair"),"LINE"==t.drawEventMode&&(n="url("+l.default.assetUrl+"img/toolbar/draw_pen.png), auto;");var r="canTagoveDraw_"+t.cditerator;n='<canvas id="'+r+'" class="tgTagoveDrawCanvasCls" width="'+((0,u.default)(e.ownerDocument).width()-5)+'" data-canvas_id="'+t.cditerator+'" height="'+((0,u.default)(e.ownerDocument).height()-5)+'" style="position:absolute;top:0;left:0;bottom:0; right: 0;z-index: 999999; -webkit-user-drag: none;cursor:'+n+'"></canvas>',(0,u.default)(e.ownerDocument.body).append(n),t.bindDrawCanvasEvent(r,i,e.ownerDocument)}},!1),this.when(e,"mouseup",function(e){t.enabled&&t.enabled()&&t.cditerator++},!1)},i[e].calculateArrowCoordinates=function(e,t,i,n,r){var o=2*r,s=function(){var r=e-i,s=t-n,a=Math.sqrt(r*r+s*s);return a=(0==a?o:a)/2,{x:i+r/a*o,y:n+s/a*o}},a=function(i,n){var s=i.x-e,a=i.y-t,l=Math.sqrt(s*s+a*a);return l=(0==l?o:l)/2,{x:i.x+a/l*r*n,y:i.y-s/l*r*n}};return{p1:a(s(),1),p2:a(s(),-1)}},i[e].drawArrow=function(e,t,i,n,r,o){t=((e=this.calculateArrowCoordinates(e,t,i,n,o)).p1.x+i)/2,o=(e.p1.y+n)/2;var s=(e.p2.x+i)/2,a=(e.p2.y+n)/2,l=(t+i)/2,u=(o+n)/2,d=(s+i)/2,c=(a+n)/2,f=(e.p1.x+t)/2,p=(e.p1.y+o)/2,h=(e.p2.x+s)/2,g=(e.p2.y+a)/2;r.moveTo(i,n),r.lineTo(e.p2.x,e.p2.y),r.lineTo(e.p1.x,e.p1.y),r.lineTo(i,n),r.lineTo(e.p2.x,e.p2.y),r.bezierCurveTo(h,g,f,p,e.p1.x,e.p1.y),r.bezierCurveTo(t,o,s,a,e.p2.x,e.p2.y),r.bezierCurveTo(d,c,l,u,e.p1.x,e.p1.y),r.lineJoin="miter",r.lineCap="butt"},i[e].bindDrawCanvasEvent=function(e,i,n){var r,o,s,a,l=this,d=n.getElementById(e),f=d.getContext("2d"),p=[],h={};i=this.drawEventConfig.LineSize;var g="LINE"==this.drawEventMode&&"HIGHLIGHT"==this.drawEventConfig.BrushType,m=!0;f.lineWidth=g?30:i,f.lineJoin=f.lineCap="round",f.shadowBlur=g?20:2*i,f.shadowColor=g?"rgba(255, 255, 0, 0.3)":"rgba(0, 0, 0, 0.5)",f.strokeStyle=g?"rgba(255, 255, 0, 0.3)":"rgba(255, 0, 0, 1.0)",this.__subx5&&c.default.disposeKoItem(this.__subx5),this.__subx5=this.enabled.subscribe(function(){l.enabled()||(m=!1);try{(0,u.default)("#"+e,n).trigger("mouseup")}catch(e){}}),this.when((0,u.default)("#"+e,n),"mouseup",function(i){m=!1,i=d.toDataURL("image/png");for(var c=[],f=[],h=0;h<p.length;h++)c.push(p[h].x),f.push(p[h].y);r=Math.min.apply(null,c)-27,o=Math.min.apply(null,f)-27,s=Math.max.apply(null,c)+27,a=Math.max.apply(null,f)+27;var g=(0,u.default)("#"+e,n).attr("data-canvas_id"),v=(0,u.default)("#canTagoveDraw_"+g,n);if(a&&isFinite(r)&&isFinite(o)&&isFinite(s)&&isFinite(a)){var b=u.default.html('<canvas id="download_c_'+g+'" class="tgDwnCanvasImg" width="'+(s-r)+'" height="'+(a-o)+'" style="position:absolute;top:'+o+"px;left:"+r+'px;z-index: 999997;pointer-events: none;-webkit-user-drag: none;"></canvas>'),_=new Image;(0,u.default)(n.body).append(b),_.onload=function(){setTimeout(function(){b&&b.length&&(b&&n&&n.body?(0,u.default)(b).remove():(b.detach(),b.remove()))},l.drawTimeOut);var e=l.drawCanvasImage(n,_,"download_c_"+g,-r,-o);t!=typeof e&&(e=e.toDataURL("image/png",.2),l.session.broadcastMsg("draw_canvas",g,e,r,o,s-r,a-o)),v&&v.remove()},_.src=i}else v&&v.remove();p.length=0},!1),this.when(n,"mouseleave",function(t){(0,u.default)("#"+e,n).trigger("mouseup")},!1),this.when((0,u.default)("#"+e,n),"mousemove",function(e){try{if(l.session.modules.events.modules.mouse.paused)return}catch(e){}if(m){p.push({x:e.offsetX,y:e.offsetY});var t=p.length;f.clearRect(0,0,f.canvas.width,f.canvas.height);var i="LINE"==l.drawEventMode,n="ARROW"==l.drawEventMode;if(i||n){var r=n&&"LINE_DOTTED"==l.drawEventConfig.LineStyle,o=n&&"ARROW"==l.drawEventConfig.LineStyle,s=n&&"ARROW_CURVE"==l.drawEventConfig.LineStyle,a=n&&"ARROW_DOUBLE"==l.drawEventConfig.LineStyle,u=n&&"LINE"==l.drawEventConfig.LineStyle;if(n=n&&"LINE_CURVE"==l.drawEventConfig.LineStyle||s||r,f.beginPath(),r&&f.setLineDash([.001,2*l.drawEventConfig.LineSize]),f.moveTo(p[0].x,p[0].y),i||n)for(i=1;i<p.length;i++)f.lineTo(p[i].x,p[i].y);(o||u||a)&&f.lineTo(p[p.length-1].x,p[p.length-1].y),s&&6<t&&l.drawArrow((p[t-3].x+(p[t-6].x+e.offsetX)/2)/2,(p[t-3].y+(p[t-6].y+e.offsetY)/2)/2,e.offsetX,e.offsetY,f,l.drawEventConfig.LineSize),(o||a)&&(f.lineCap="butt",t=p[0].x,o=p[0].y,a&&l.drawArrow(e.offsetX,e.offsetY,t,o,f,l.drawEventConfig.LineSize),l.drawArrow(t,o,e.offsetX,e.offsetY,f,l.drawEventConfig.LineSize)),f.stroke()}"SHAPE"==l.drawEventMode&&(h.startX||(h.startX=e.offsetX,h.startY=e.offsetY),h.w=e.offsetX-h.startX,h.h=e.offsetY-h.startY,f.clearRect(0,0,d.width,d.height),a=.25*Math.min(Math.abs(h.w),Math.abs(h.h)),"EMPTY_RECTANGLE"==l.drawEventConfig.ShapeType?f.strokeRect(h.startX,h.startY,h.w,h.h):"ROUNDED_RECTANGLE"==l.drawEventConfig.ShapeType?(f.beginPath(),f.moveTo(h.startX,h.startY+a),f.lineTo(h.startX,h.startY+h.h-a),f.quadraticCurveTo(h.startX,h.startY+h.h,h.startX+a,h.startY+h.h),f.lineTo(h.startX+h.w-a,h.startY+h.h),f.quadraticCurveTo(h.startX+h.w,h.startY+h.h,h.startX+h.w,h.startY+h.h-a),f.lineTo(h.startX+h.w,h.startY+a),f.quadraticCurveTo(h.startX+h.w,h.startY,h.startX+h.w-a,h.startY),f.lineTo(h.startX+a,h.startY),f.quadraticCurveTo(h.startX,h.startY,h.startX,h.startY+a),f.stroke()):"ELLIPSE"==l.drawEventConfig.ShapeType&&(f.beginPath(),f.moveTo(h.startX,h.startY+(e.offsetY-h.startY)/2),f.bezierCurveTo(h.startX,h.startY,e.offsetX,h.startY,e.offsetX,h.startY+(e.offsetY-h.startY)/2),f.bezierCurveTo(e.offsetX,e.offsetY,h.startX,e.offsetY,h.startX,h.startY+(e.offsetY-h.startY)/2),f.closePath(),f.stroke()))}},!1)},i[e].drawCanvasImage=function(e,t,i,n,r){if((e=e.getElementById(i))&&"CANVAS"===e.tagName){var o=e.getContext("2d");i=t.width;var s=t.height;for(o.drawImage(t,n,r),t=0,n=o.getImageData("-Infinity"==n?0:n,"-Infinity"==r?0:r,i,s).data.length;t<n;t+=4);for(r=0;r<s;r++)for(n=0;n<i;n++);return e}console.error("invalid flow canvas expected "+(e?e.tagName:e)+" given")},i[e].drawCanvasMsgImage=function(e,t,i,n,r,o,s){(0,u.default)(e),t="download_c_"+t,(0,u.default)("#"+t)&&0<(0,u.default)("#"+t).length&&(0,u.default)("#"+t).remove();var a=e.createElement("img");a.src=i,a.setAttribute("id",t),a.setAttribute("width",o),a.setAttribute("height",s),"9d377"==acquireIO.accountId||"15355"==acquireIO.accountId||"42071"==acquireIO.accountId||"82b15"==acquireIO.accountId?a.setAttribute("style","position:absolute;top:"+r+"px;left:"+n+"px; z-index: 999996;pointer-events: none;-webkit-user-drag: none;width:auto !important;height:auto !important;display: block;"):a.setAttribute("style","position:absolute;top:"+r+"px;left:"+n+"px; z-index: 999996;pointer-events: none;-webkit-user-drag: none;"),(0,u.default)(e.body).append(a),setTimeout(function(){(0,u.default)(a).remove()},this.drawTimeOut)},i[e].removeAllDraw=function(){0<this.session.frame().document().length&&(0,u.default)(".tgImgDrawCanvas",this.session.frame().document()).remove()},n.default=i},468:function(i,n,o){n.__esModule=!0;var s=o(433),a=o(435);i=function(e){var i=s.default.call(this,e)||this;return i.lastURLSrc=null,i.session.app.settings().disable_canvas_support&&"1"===i.session.app.settings().disable_canvas_support?i:(e.on("create-element",function(e,i){e&&e.tagName&&"CANVAS"==e.tagName&&e.addEventListener("contextmenu",function(e){return t!==e.preventDefault&&e.preventDefault(),t!==e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1})}),e.on("bind-node-events",function(e,t){if(e&&e.tagName&&"CANVAS"==e.tagName){var n=e.getAttribute("id");(!n||"string"!=typeof n||0!=n.indexOf("tgDraw")&&0!=n.indexOf("canTagove")&&0!=n.indexOf("download_c_"))&&setTimeout(function(){i.monitor(e,t[a.compressAttrMap.id])},1e3)}}),e.on("canvas-update",function(e,t,n,r,o,s,a){(e=i.session&&i.session.mirror?i.session.mirror.findNodeByID(t):null)&&e.getContext&&"view"==i.session.type&&(e=e.getContext("2d"),(o=e.createImageData(o-n,s-r)).data.set(new Uint8ClampedArray(a)),e.putImageData(o,n,r))}),e.on("app-screen-update",function(e,t,n,r,o,s,a){if((e=i.session&&i.session.mirror?i.session.mirror.findNodeByID(t):null)&&e.getContext&&"view"==i.session.type){var l=e.getContext("2d"),u=new Image;u.onload=function(){l.drawImage(u,n,r,o,s)},a?(a=new Uint8Array(a),a=new Blob([a],{type:"image/jpeg"}),a=URL.createObjectURL(a),i.lastURLSrc=a,u.src=a):lastURLSrc&&(u.src=i.lastURLSrc)}}),i)},r.i(i,s.default),i[e].monitor=function(e,t){var i=this;if(e.getContext&&"share"==this.session.type){var n=e.getContext("2d");if(null==n)console.error("canvas contax stil not ready.");else{var r=null,o=function(e,n,o,s,a){r=e,n=0==n?n:n-1,o=0==o?o:o-1,s=s+=1,a=a+=1,s=Math.min(s,e.width),a=Math.min(a,e.height),r=e;for(var l=new Uint8Array((s-n)*(a-o)*4),u=0,d=0,c=0,f=0;f<e.data.length;f+=4)u>=n&&u<s&&d>=o&&d<a&&(l[c]=e.data[f],c++,l[c]=e.data[f+1],c++,l[c]=e.data[f+2],c++,l[c]=e.data[f+3],c++),u==e.width-1?(u=0,d++):u++;i.session&&i.session.broadcastMsg("canvas-update",t,n,o,s,a,l.buffer)},s=function(){try{if(!e||!e.parentNode)return setTimeout(s,2500);Date.now();var t=n.getImageData(0,0,e.width,e.height),i=null,a=null,l=null,u=null;if(r)for(var d=0,c=0,f=0;f<t.data.length;f+=4)r.data[f]===t.data[f]&&r.data[f+1]===t.data[f+1]&&r.data[f+2]===t.data[f+2]&&r.data[f+3]===t.data[f+3]||(i=null===i?d:i>=d?d:i,a=null===a?c:a>=c?c:a,l=null===l?d:l>=d?l:d,u=null===u?c:u>=c?u:c),d==t.width-1?(d=0,c++):d++;else a=i=0,l=t.width,u=t.height;null!=i&&null!=a&&null!=l&&null!=u&&o(t,i,a,l,u)}catch(e){console.error(e)}setTimeout(s,700)};this.session.on("user-join",function(){setTimeout(function(){o(r,0,0,r.width,r.height)},2e3)}),setTimeout(function(){o(r,0,0,r.width,r.height),setTimeout(function(){o(r,0,0,r.width,r.height)},5e3)},5e3),s()}}},i.getName=function(){return"canvas"},n.default=i},469:function(t,n,o){n.__esModule=!0;var s=o(80),a=o(433),l=o(435);t=function(e){var t=a.default.call(this,e)||this;return t._csss={},e.on("set-text-content",function(e,i){var n=0,r=function(){if(!(2<++n))if(e&&e.parentNode)if(e.parentNode.tagName&&"STYLE"==e.parentNode.tagName){var o=e.parentNode.getAttribute("relative")?e.parentNode.getAttribute("relative"):"";i&&t.filterCSS(i,o,function(t){e.textContent=t})}else e.textContent=i;else setTimeout(r)};return r(),!0}),e.on("create-element",function(e,i){if(!t.session.modules.proxy.enable_proxy&&i[l.compressAttrMap.attributes]&&i[l.compressAttrMap.attributes]&&i[l.compressAttrMap.attributes].remote&&i[l.compressAttrMap.attributes].rel&&"STYLE"==e.tagName&&0>i[l.compressAttrMap.attributes].remote.indexOf("://www.mpiphp.org/")&&0>i[l.compressAttrMap.attributes].remote.indexOf("://www.exerurgentcare.com/")&&0>i[l.compressAttrMap.attributes].remote.indexOf("://staging.exerurgentcare.com/")&&0>i[l.compressAttrMap.attributes].remote.indexOf("://exerurgentcare.com/"))return e=t.session.mirror.target,i[l.compressAttrMap.attributes].href=i[l.compressAttrMap.attributes].remote,delete i[l.compressAttrMap.attributes].remote,e?e.createElement("LINK"):null}),e.on("set-attribute",function(e,i,n,r){if("href"==i&&r._blob_type)return(0,s.default)(e).attr("href","data:"+r._blob_type+";base64,"+btoa(t.filterCSS(n))),!0;if("_acqtextcontent"==i)return t.filterCSS(n,"",function(t){e.textContent=t}),!0;if("style"==i)return(0,s.default)(e).attr("style",""),t.filterCSS(n,null,function(t){(0,s.default)(e).attr("style",t)}),!0;if(("remote"==i||"href"==i)&&"STYLE"==e.tagName&&""!==n&&n){(0,s.default)(e).attr("remotexx",n);var o=t.session.modules.proxy.getProxifiedUrl(n),a=function(i){t.filterCSS(i,n,function(t){e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))})};return t._csss[o]?a(t._csss[o]):s.default.ajax({url:o,success:function(e){t._csss[o]=e,setTimeout(function(){a(e)},0)},error:function(e,t){console.error("failed to load asset "+o),console.error(e),console.error(t)}}),!0}}),e.on("node-attributes",function(e,t){if("LINK"==t.tagName&&t.getAttribute("rel")&&0<=t.getAttribute("rel").toLowerCase().indexOf("stylesheet")&&e.href&&0===e.href.indexOf("blob:")){var i=new XMLHttpRequest;i.onload=function(){e.href=i.response,e._blob_type="text/css"},i.open("GET",e.href,!1),i.send()}}),e.on("filter-node-data",function(e){var i=e.node;if("LINK"==i.tagName&&i.getAttribute("rel")&&0<=i.getAttribute("rel").toLowerCase().indexOf("stylesheet")&&(!i.href||0!==i.href.indexOf("blob:")&&0!==i.href.indexOf("data:"))||"STYLE"==i.tagName){if(e.data[l.compressAttrMap.attributes]=e.data[l.compressAttrMap.attributes]?e.data[l.compressAttrMap.attributes]:{},e.data[l.compressAttrMap.tagName]="STYLE",e.data[l.compressAttrMap.nodeType]=Node.ELEMENT_NODE,"STYLE"!==i.tagName)return delete e.data[l.compressAttrMap.attributes].href,void(e.data[l.compressAttrMap.attributes].remote=i.href);i.href&&(e.data[l.compressAttrMap.attributes].relative=i.href)}if(!(/MSIE|Trident/.test(window.navigator.userAgent)||t.session.app.settings().disable_dynamic_css_support&&"1"===t.session.app.settings().disable_dynamic_css_support||"STYLE"!=i.tagName)){i._css_update_interval&&clearTimeout(i._css_update_interval);var n=function(){if(i||i.parentNode){if(i&&i.sheet){for(var e="",t=r.m(i.sheet.rules||i.sheet.cssRules),o=t.next();!o.done;o=t.next())e+="\n"+o.value.cssText;""==i.textContent?i.getAttribute("_acqTextContent")!==e&&i.setAttribute("_acqTextContent",e):i.textContent!==e&&(i.textContent=e)}i._css_update_interval=setTimeout(n,1e3)}};i._css_update_interval=setTimeout(n,1e3)}}),t},r.i(t,a.default),t.isCrossDomainCSS=function(e){return"LINK"==e.tagName&&(0===e.href.indexOf("http://")||0==e.href.indexOf("https://"))&&0>e.href.indexOf(window.location.protocol+"//"+window.location.host)},t.getName=function(){return"style-over-socket"},t[e].filterCSS=function(e,t,n){var o=this;t=void 0===t?null:t;var a=[];e=(e=(e=(e+="").replace(/@import url\(['"]?([^'"\)]*)['"]?\);/g,function(e,i,n,r){return a.push([e,o.session.modules.proxy.getAbsoluteURL(i,t)]),"/* @@@@#"+(a.length-1)+" */"})).replace(/@import ['"]?([^'"\)]*)['"]?;/g,function(e,i,n,r){return a.push([e,o.session.modules.proxy.getAbsoluteURL(i,t)]),"/* @@@@#"+(a.length-1)+" */"})).replace(/url\(['"]?([^'"\)]*)['"]?\)/g,function(e,i,n,r){return 0===i.indexOf("data:")||0===i.indexOf("blob:")?e:"url('"+o.session.modules.proxy.getProxifiedUrl(i,t)+"')"});for(var l=function(){for(var t=r.m(a),o=t.next();!o.done;o=t.next())if(null!=o.value)return;i==typeof n&&n(e)},u={x$$loop$prop$k$145:0};u.x$$loop$prop$k$145<a.length;u={x$$loop$prop$k$145:u.x$$loop$prop$k$145},u.x$$loop$prop$k$145++)s.default.ajax({url:this.session.modules.proxy.getProxifiedUrl(a[u.x$$loop$prop$k$145][1]),success:function(t){return function(i){o.filterCSS(i,a[t.x$$loop$prop$k$145][1],function(i){e=e.replace("/* @@@@#"+t.x$$loop$prop$k$145+" */",i),a[t.x$$loop$prop$k$145]=null,l()})}}(u),error:function(e){return function(t){console.error("failed to load asset "+a[e.x$$loop$prop$k$145][1]),console.error(t),a[e.x$$loop$prop$k$145]=null,l()}}(u)});return l(),1<=a.length?"":e},n.default=t},470:function(t,i,n){i.__esModule=!0;var o=n(80),s=n(433);t=function(e){return e=s.default.call(this,e)||this,e.css_interval=null,e},r.i(t,s.default),t.getName=function(){return"css_hover"},t[e].bind=function(e,t){var i=this;this.session.app.settings().disable_css_based_hover_events_support&&"1"===this.session.app.settings().disable_css_based_hover_events_support||(t.when(e.body,"mouseenter mouseleave",function(e,t){t&&("mouseenter"==e.type?(0,o.default)(e.target).attr("tg_hover",1):(0,o.default)(e.target).removeAttr("tg_hover"))},null,!0),this.filterAllCSS(e),this.css_interval&&clearInterval(this.css_interval),this.css_interval=setInterval(function(){i&&i.filterAllCSS&&i.filterAllCSS(e)},5e3))},t[e].unbind=function(){this.css_interval&&clearInterval(this.css_interval)},t[e].filterAllCSS=function(e){e=e.styleSheets;for(var t=0;t<e.length;t++){var i=e[t];try{if(i.__tg_checked)break;i.__tg_checked=!0;var n=e[t].rules||e[t].cssRules;if(null!=n&&0<n.length)for(i=0;i<n.length;i++)if(n[i].selectorText&&0<=n[i].selectorText.indexOf(":hover")&&0>n[i].selectorText.indexOf("[tg_hover]")){for(var o=n[i].selectorText.split(","),s=r.m(o),a=s.next();!a.done;a=s.next()){var l=a.value;if(0<=l.indexOf(":hover")&&0>l.indexOf("[tg_hover]")){var u=l.replace(/:hover/g,"[tg_hover]");0>o.indexOf(u)&&o.push(u)}}n[i].selectorText=o.join(",")}}catch(e){}}},i.default=t},471:function(t,n,o){n.__esModule=!0;var s=o(433),a=o(80),l=o(451),u=o(9);t=function(e){var t=s.default.call(this,e)||this;return t.app=t.session.manager.app,t.width=null,t.height=null,t.maxWidth=null,t.maxHeight=null,t.scroll_lock=!1,t._scroll_state={top:0,left:0},t.session.on("mirror-share",function(e,i,n,r,o){o.window=t.getWindowSize(),o.scroll=t.getWindowScroll()},t),t.session.on("view-mirror-initialize",function(e,i,n,r,o){t.session.sub_frame||t.resizePreview(o.window.width,o.window.height),setTimeout(function(){t.session&&t.session.owner&&(t._scroll_state={top:o.scroll.top,left:o.scroll.left},t.scroll_lock=!0,t.scrollTo(t.session.owner,o.scroll.top,o.scroll.left),t.scroll_lock=!1)},500)},t),t.session.on("window-resize",function(e,i,n){e!=t.session.owner||t.session.sub_frame||t.resizePreview(i,n)},t),t.session.on("window-scroll",function(e,i,n){t._scroll_state={top:i,left:n},t.scroll_lock||(t.scroll_lock=!0,t.scrollTo(e,i,n),t.scroll_lock=!1)},t),t.app.chatManager&&!t.session.sub_frame&&(t.__subx&&u.default.disposeKoItem(t.__subx),t.__subx=t.app.chatManager().current_chat.subscribe(function(){setTimeout(function(){t.session&&"view"==t.session.type&&t.calculateMaxWidthHeight(!0),t.width&&t.height&&t.resizePreview(t.width,t.height)},400)})),t},r.i(t,s.default),t[e].bind=function(e,t){var i=this;if(t){this.session.sub_frame||t.when(window,"resize",function(e){"view"==i.session.type&&i.calculateMaxWidthHeight(!0),i.width&&i.height&&i.resizePreview(i.width,i.height)});var n=e.defaultView;"share"!=this.session.type||this.session.sub_frame||t.when(n,"resize",function(e){(e=i.getWindowSize())&&e.width&&i.session.broadcastMsg("window-resize",e.width,e.height)}),t.when(n,"scroll",function(e){i.scroll_lock||(e=i.getWindowScroll())&&l.default.canHandleScrollEvent(n,e.top,e.left)&&i.session.broadcastMsg("window-scroll",e.top,e.left)}),"view"==this.session.type&&this.calculateMaxWidthHeight(!0),this.width&&this.height&&this.resizePreview(this.width,this.height)}},t[e].lockScroll=function(){this.scroll_lock=!0,this._scroll_state=this.getWindowScroll()},t[e].unlockScroll=function(){this._scroll_state&&(this.scroll_lock=!0,this.scrollTo(null,this._scroll_state.top,this._scroll_state.left),this.scroll_lock=!1),this.scroll_lock=!1},t.getName=function(){return"view"},t[e].getWindowSize=function(){var e=this.session.mirror&&this.session.mirror.target&&this.session.mirror.target.defaultView?this.session.mirror.target.defaultView:null;if(e)return{width:this.app.tracker.isIOS?e.parent.innerWidth:e.innerWidth,height:this.app.tracker.isIOS?e.parent.innerHeight:e.innerHeight}},t[e].getWindowScroll=function(){var e=this.session&&this.session.mirror&&this.session.mirror.target?this.session.mirror.target:null;if(!e)return!1;var t=e.defaultView;return this.app.tracker.isIOS=!1,{top:this.app.tracker.isIOS?(0,a.default)("body",e).scrollTop():(0,a.default)(t).scrollTop(),left:this.app.tracker.isIOS?(0,a.default)("body",e).scrollLeft():(0,a.default)(t).scrollLeft()}},t[e].scrollTo=function(e,t,n){if(e=this.session.mirror&&this.session.mirror.target&&this.session.mirror.target?this.session.mirror.target:null){var r=this.app.tracker.isIOS?e.body:e.defaultView;l.default.scrolling(r,t,n),window.MSInputMethodContext&&document.documentMode&&e.documentElement?(e.documentElement.scrollTop=parseInt(t),e.documentElement.scrollLeft=parseInt(n)):((0,a.default)(r).scrollTop(t),(0,a.default)(r).scrollLeft(n),this.app.tracker.isIOS?document.createEvent?r.dispatchEvent(new UIEvent("scroll")):document.createEventObject?r.fireEvent("onscroll"):i==typeof node.onscroll&&r.onscroll():(r.scrollTo(r.scrollX,r.scrollY+1),r.scrollTo(r.scrollX,r.scrollY-1)))}},t[e].calculateMaxWidthHeight=function(e){void 0!==e&&e&&(this.maxHeight=this.maxWidth=0),this.maxWidth&&this.maxHeight||(e=this.session&&this.session.frame&&this.session.frame()?this.session.frame().iframe():null)&&((e=(0,a.default)(e)).parent()?(this.maxWidth=e.parent().outerWidth(!0),this.maxHeight=e.parent().outerHeight(!0)):(this.maxWidth=e.outerWidth(!0),this.maxHeight=e.outerHeight(!0)),this.maxHeight&&this.maxWidth?this.trigger("calculate-max-width-height"):(this._calculate_timer&&clearTimeout(this._calculate_timer),this._calculate_timer=setTimeout(this.calculateMaxWidthHeight.bind(this),800)))},t[e].resizePreview=function(e,t){var i=this;this.width=e,this.height=t,this.calculateMaxWidthHeight();try{if(this.getMirrorDocument(!0)){var n=this.getMirrorDocument(!0).getElementById("app-sdk-canvas-xad");n&&(n.style.width=e+"px",n.style.height=t+"px")}}catch(e){console.error(e)}var r=this.session.frame().iframe();if(r){if(!this.maxHeight||!this.maxWidth)return this.once("calculate-max-width-height",function(){i.resizePreview(e,t)});n=1,(r=(0,a.default)(r)).addClass("tgnoresizecheck");var o=0;e<=this.maxWidth&&t<=this.maxHeight?r.css({width:e,height:t,position:"absolute",left:(this.maxWidth-e)/2+"px",top:"0px",margin:"0px","transform-origin":"left top",transform:"scale(1)"}):(o=this.app.tracker.isIOS||this.app.tracker.isAndroid?"100%":e,n=e<=this.maxWidth&&t>this.maxHeight?this.maxHeight/t:e>this.maxWidth&&t<=this.maxHeight?this.maxWidth/e:Math.min(Math.min(this.maxWidth/e,this.maxHeight/t),Math.min(e/this.maxWidth,t/this.maxHeight)),r.css({width:o,height:t,position:"absolute",left:(this.maxWidth-e*n)/2+"px",top:"frontend"==this.app.type?"0px":"0",margin:"0px","transform-origin":"left top",transform:"scale("+n+")"}))}},t[e].onDispose=function(){},n.default=t},472:function(i,n,o){n.__esModule=!0;var s=o(433),a=o(435),l=o(80),u=function(e){var i=s.default.call(this,e)||this;return i.session&&i.session.app&&i.session.app.settings()&&"0"===i.session.app.settings().nestedFrame&&u.BlackListAttributes.class.push("acq-alert-wrap"),e.on("creating-mirror",function(e){e&&"share"==i.session.type&&i.clean(e)}),e.on("filter-node-data",function(e){var t=e.node;if(e=e.data,t&&t.tagName&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName)&&e&&(!t.getAttribute("type")||"SELECT"==t.tagName||"button"!==t.getAttribute("type")&&"submit"!==t.getAttribute("type")||"image"!==t.getAttribute("type"))&&i.session.app.settings()&&i.session.app.settings().co_browsing_disable_text_field&&"1"==i.session.app.settings().co_browsing_disable_text_field&&(window.tgv_virtual_visitor?(e._a=e._a||{},e._a[a.compressAttrMap.attributes]=e._a[a.compressAttrMap.attributes]||{},e._a[a.compressAttrMap.attributes].disabled="disabled"):e[a.compressAttrMap.attributes].disabled="disabled"),t&&t.tagName&&"A"==t.tagName&&e[a.compressAttrMap.attributes]&&delete e[a.compressAttrMap.attributes].target,t&&t.tagName&&"IFRAME"==t.tagName){e[a.compressAttrMap.attributes]&&e[a.compressAttrMap.attributes].src&&""!=e[a.compressAttrMap.attributes].src||(e[a.compressAttrMap.attributes]||(e[a.compressAttrMap.attributes]={}),e[a.compressAttrMap.attributes].src="about:blank",e[a.compressAttrMap.attributes]["data-blocked"]="src-blank");for(var n=(t=r.m(u.BlackListFrames)).next();!n.done;n=t.next())(n=n.value).test(e[a.compressAttrMap.attributes].src)&&(e[a.compressAttrMap.attributes].src="about:blank",e[a.compressAttrMap.attributes]["data-blocked"]=n)}}),e.on("node-attributes",function(e,i){for(var n=r.m(Object.keys(e)),o=n.next();!o.done;o=n.next()){o=o.value;for(var s=r.m(u.FilterAttributes),a=s.next();!a.done;a=s.next())if((a=a.value)instanceof Object){for(var l in a)if(t!==typeof e[l])for(var d=r.m(a[l]),c=d.next();!c.done;c=d.next())c=c.value,e[l]&&0<=e[l].indexOf(c)&&(e[l]=e[l].replace(c,""))}else 0==o.indexOf(a)&&delete e[o]}for(var f in u.ReplaceAttributes)if(i.nodeType==Node.ELEMENT_NODE&&f===i.nodeName)for(var p in u.ReplaceAttributes[f])t!==typeof e[p]&&(e[p]=u.ReplaceAttributes[f][p])}),e.on("set-attribute",function(e,t,i,n){if("maxlength"==t)return(0,l.default)(e).attr(t,parseInt(i)+1),!0}),e.on("filter-node",function(e){if(null!=e.data){var n=e.node;if(n&&n.parentNode&&n.parentNode.__skip_cb)return i.skipNode(e,n);if(e.data[a.compressAttrMap.nodeType]==Node.COMMENT_NODE)e.data[a.compressAttrMap.textContent]=" - ";else if(n.nodeType==Node.ELEMENT_NODE&&0<=u.BlackListTags.indexOf(n.nodeName))i.skipNode(e,n);else if(n&&n.attributes&&0<n.attributes.length)for(var o=0;o<n.attributes.length;o++){var s=n.attributes[o];if(t!=typeof u.BlackListAttributes[s.name]){var l=u.BlackListAttributes[s.name];if(null==l)i.skipNode(e,n);else{s=s.value?s.value.toLowerCase():"";for(var d=(l=r.m(l)).next();!d.done;d=l.next()){if("string"==typeof(d=d.value)&&0<=s.indexOf(d.toLowerCase()))return void i.skipNode(e,n);if(d&&"string"!=typeof d&&0<=s.indexOf(d[0].toLowerCase()))return void d[1](e)}}}}}}),i};r.i(u,s.default),u[e].skipNode=function(e,t){e.skip=!0},u[e].clean=function(e){},u.getName=function(){return"tweaks"},n.default=u,u.SafeAttributes={},u.BlackListTags=["SCRIPT","BASE"],u.ReplaceAttributes={A:{href:"#"},FORM:{action:"#"}},u.FilterAttributes="on uib-tooltip-popup tg_hover tg_selection_mode tg_selector_active tg_selector_div".split(" "),u.BlackListFrames=[/https:\/\/[0-9a-z]\.addthis\.com\/static\//g,/staticxx\.facebook\.com\/connect\/xd_arbiter/],u.BlackListAttributes={class:["tagove_cookie","tgStyle",["tgTagoveDrawCanvasCls",function(e){try{var t=e.data[a.compressAttrMap.attributes].style||"";t=t.split(";");for(var i=[],n=r.m(t),o=n.next();!o.done;o=n.next()){var s=o.value;0>s.indexOf("cursor")&&i.push(s)}e.data[a.compressAttrMap.attributes].style=i.join(";"),e.data[a.compressAttrMap.attributes].width-=30,e.data[a.compressAttrMap.attributes].height-=30}catch(e){console.error(e)}}],"tgDwnCanvasImg","tgDrawWrapperCls","tgCobClose","CBTGDraw","ClientMousePointer","tagove-base","tagove-livechat-widget","tgcobrowsing","tgImgDrawCanvas","tagove_frame","aio-widget-frame"],id:["tagove-new","tagove-livechat-widget"],rel:["preload","manifest","canonical","icon"]}},473:function(t,i,n){i.__esModule=!0;var o=n(433),s=n(12),a={alert:null};t=function(e){var t=o.default.call(this,e)||this;t.alerts=[];for(var i in a)a[i]=t.createHandle(i);e={};for(var n in a)e.x$$loop$prop$type$117$147=n,t.session.on("popup-"+e.x$$loop$prop$type$117$147,function(e){return function(i,n,r){(i=t.getMirrorDocument(!1))&&i.defaultView&&i.defaultView[e.x$$loop$prop$type$117$147](n,r,!1)}}(e)),t.session.on("popup-"+e.x$$loop$prop$type$117$147+"-cancel",function(e,i,n){for(i=(e=r.m(t.alerts)).next();!i.done;i=e.next())(i=i.value)();t.alerts=[]}),e={x$$loop$prop$type$117$147:e.x$$loop$prop$type$117$147};return t},r.i(t,o.default),t.getName=function(){return"native-pop-ups"},t[e].bind=function(e){if(e=e.defaultView)for(var t in a)e["_native_"+t]||(e["_native_"+t]=e[t]),e[t]=a[t]},t[e].unbind=function(e){if(e&&e.defaultView)for(var t in a)e.defaultView["_native_"+t]&&(e.defaultView[t]=e.defaultView["_native_"+t])},t[e].createHandle=function(e){var t=this;return function(i,n,r){r=void 0===r||r;var o=function(){t.session.broadcastMsg("popup-"+e+"-cancel"),s.default.close()};t.alerts.push(o),s.default.draw(i,null,{ok:{text:"OK",primary:!0,onclick:o}},!1,null),r&&t.session.broadcastMsg("popup-"+e,i,n)}},i.default=t},474:function(t,i,n){i.__esModule=!0;var o=n(433),s=n(435),a=n(80);t=function(e){var t=o.default.call(this,e)||this;return t._svg_timers=[],e.on("create-element",function(e,i){if("SVGWARP"==e.tagName)return e=e.ownerDocument.createElement("SVGWARP"),e.innerHTML=t.filterSVGUrls(i.svg),e.getElementsByTagName("svg")[0]}),t.session.app.settings().disable_svg_support&&"1"===t.session.app.settings().disable_svg_support?t:(e.on("svg-update",function(e,i,n){if((e=t.session&&t.session.mirror?t.session.mirror.findNodeByID(i):null)&&e.parentNode){var r=e.ownerDocument.createElement("SVGWARP");r.innerHTML=t.filterSVGUrls(n),n=r.getElementsByTagName("svg")[0],e.parentNode.replaceChild(n,e),t.session.mirror.replaceNodeByID(i,n)}}),e.on("filter-node-data",function(e){var i=e.node,n=e.data;i&&i.tagName&&("SVG"==i.tagName||"svg"==i.tagName)&&n&&(n[s.compressAttrMap.tagName]="SVGWARP",n.svg=i.outerHTML,t._svg_timers.push(setInterval(function(){if(i&&i.parentNode&&t.session&&t.session.mirror){var e=i.outerHTML;e!=n.svg&&(n.svg=e,t.session.broadcastMsg("svg-update",n[s.compressAttrMap.id],e))}},1e3)))}),t)},r.i(t,o.default),t[e].unbind=function(t,i){for(o.default[e].unbind.call(this,t,i),i=(t=r.m(this._svg_timers)).next();!i.done;i=t.next())clearInterval(i.value);this._svg_timers=[]},t[e].filterSVGUrls=function(e){var t=this;return"string"!=typeof e?e:e.replace(/xlink:href="([^"]*)"/g,function(e,i,n){if(0===i.indexOf("#"))return'xlink:href="'+i+'"';if(2==(e=i.split("#")).length){var r=t.session.modules.proxy.getProxifiedUrl(e[0]),o=t.session.mirror.getDocument();if(!o.getElementById("svg-ref-"+r)){var s=o.createElement("SPAN");s.setAttribute("id","svg-ref-"+r),o.body.appendChild(s),a.default.ajax({url:r,dataType:"plan",success:function(e){s.innerHTML=e,o.body.appendChild(s.getElementsByTagName("svg")[0])},error:function(e){console.error("failed to load asset "+r),console.error(e)}})}return'xlink:href="#'+e[1]+'"'}return'crossorigin="true" xlink:href="'+t.session.modules.proxy.getProxifiedUrl(i)+'"'})},t.getName=function(){return"svg"},i.default=t},475:function(i,n,o){n.__esModule=!0;var s=o(433),a="#FFFFFF #FFFFFF #0265FF #ff022f #ff022f #ffee09".split(" ");i=function(e){var t=s.default.call(this,e)||this;return t.mouses={},t.color_count=0,t.session.config.silent?t:(t.session.on("mouse-move",function(e,i,n){(e=t.getMouseInstance(e))&&e.setAttribute("style","top:"+(n+7)+"px;left:"+(i+10)+"px;")},t),t.session.on("user-add",function(e){t.getMouseInstance(e)},t),t.session.on("user-remove",function(e){t.removeMouseInstance(e)},t),t.session.on("mouse-click",function(e,i,n){if(i=void 0===i?0:i,n=void 0===n?0:n,e=t.getMirrorDocument(!0)){var r=t.createHTML('<div class="pulse1"><div></div></div><div class="pulse2"><div></div></div>',"CBTGDraw clicked tgcobrowsing",{style:"top:"+n+"px;left:"+i+"px;"});e.body.appendChild(r),setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r)},3e3)}},t),t)},r.i(i,s.default),i.getName=function(){return"user-mouse"},i[e].removeMouseInstance=function(e){var t=this.getMouseInstance(e);t&&(t.classList?t.classList.add("remove"):t.className+=" remove",setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},1500))},i[e].getMouseInstance=function(e){var i=this.getOverlayDocument();if(i){if(t==typeof i._tg_mouses&&(i._tg_mouses={}),t!==typeof i._tg_mouses[e.id])return i._tg_mouses[e.id].parentNode||i.body.appendChild(i._tg_mouses[e.id]),i._tg_mouses[e.id];var n=this.createHTML("","tgcobrowsing ClientMousePointer",{id:"ClientMousePointer-"+e.id,title:e.user.getName()()},"img",i);return n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<?xml version="1.0" ?><svg height="16px" version="1.1" viewBox="0 0 16 16" width="16px" xmlns="http://www.w3.org/2000/svg"\n xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"\n xmlns:xlink="http://www.w3.org/1999/xlink"><title/><defs/>\n<filter id="IDD" height="130%">\n  <feGaussianBlur in="SourceAlpha" stdDeviation="1"></feGaussianBlur> \x3c!-- stdDeviation is how much to blur --\x3e\n  <feOffset dx="0" dy="0" result="offsetblur"></feOffset> \x3c!-- how much to offset --\x3e\n  <feComponentTransfer>\n    <feFuncA type="linear" slope="1"></feFuncA> \x3c!-- slope is the opacity of the shadow --\x3e\n  </feComponentTransfer>\n  <feMerge> \n    <feMergeNode></feMergeNode> \x3c!-- this contains the offset blurred image --\x3e\n    <feMergeNode in="SourceGraphic"></feMergeNode> \x3c!-- this contains the element that the filter is applied to --\x3e\n  </feMerge>\n</filter> <g fill="#FFF"  transform="translate(-720.000000, -336.000000)">\n <path filter="url(#IDD)" d="M723,336 L732,344 L728.64,345.493333 L731,351 L729,352 L726.604724,346.3979 L723,348 Z M723,336" id="Triangle 295"/>\n </g>\n </svg>'.replace(/IDD/g,Math.ceil(1e8*Math.random()))),n.parentNode||i.body.appendChild(n),i._tg_mouses[e.id]=n}},i[e].getNextColor=function(){return this.color_count++,t==typeof a[this.color_count]&&(this.color_count=0),a[this.color_count]},n.default=i},476:function(i,n,o){n.__esModule=!0;var s=o(433),a=o(2),l=o(80),u=o(9),d=o(6),c=o(477);i=function(e){return s.default.call(this,e)||this},r.i(i,s.default),i[e].init=function(){if(!this.session.config.silent&&("share"==this.session.type||"view"==this.session.type&&this.session.manager.myself()&&"visitor"==this.session.manager.myself().user.type)){var e="share"==this.session.type||"view"==this.session.type&&"main"==this.session.config.render;e&&document.body.appendChild(this.getBorder()),document.body.style.position="relative;",e&&document.body.appendChild(this.getCloseButton()),document.body.appendChild(this.getExtraCSS(!0));var t=this.session.modules.view.getWindowSize();e&&"frontend"==this.session.manager.app.type&&"0"!=this.session.app.settings().cobrowse_show_url_bar&&(!t||700<t.width)&&this.getURLBar(function(e){document.body.appendChild(e)})}},i[e].onDispose=function(){this.session&&this.session.session_id&&-1!=this.session.session_id.indexOf("#")||(this.removeNodes(document.querySelectorAll(".cobrowsing-secure-border")),this.removeNodes(document.querySelectorAll(".tgCobClose")),this.removeNodes(document.querySelectorAll(".tgStyle")),this.removeNodes(document.querySelectorAll(".tg-url.bar"))),this.frame_timer&&clearInterval(this.frame_timer)},i[e].unbind=function(e){this.removeNodes(e.querySelectorAll(".tgcobrowsing"))},i[e].removeNodes=function(e){for(var t=(e=r.m(e)).next();!t.done;t=e.next())(t=t.value).parentNode&&t.parentNode.removeChild(t)},i[e].bind=function(e){e.body.appendChild(this.getExtraCSS())},i[e].getURLBar=function(e){var i=this;if(this.url_bar)return e?e(this.url_bar):"";if(t!=typeof this.url_bar_wait)return this.url_bar_wait.push(e);this.url_bar_wait=[],this.url_bar_wait.push(e);var n=acquireIO.settings().custom_css;n=2==(n=n.split("/* cobrowse-bar")).length&&"frontend"==acquireIO.type?n[1].split("*/")[0]:"",this.session.manager.app.ui.theme.templates["cobrowser-url-bar"](function(e,t){var o=i.createHTML('<a style="    position: absolute;\n    top: 37px;     transition: all 0.5s;\n    z-index: 22222225555222;\n    right: 12px;\n    border-top: none;" href="javascript:void(null)"><img style="    width: 30px;" src="'+i.session.manager.app.getServerAssetUrl("top-toggle.png")+'" /></a>',"",{},"div",document),s=i.createHTML('<iframe style="   display:block;     transition: all 0.5s;" src="about:blank"></iframe>',"tgcobrowsing tg-url bar",{style:"        transition: all 0.5s;     position: fixed;\n    top: -4px;display:block !important; \n    left: calc((100% - 700px)/2);\n    width: 700px;\n    z-index: 10000000000677878;\n    height: 40px;\n    border: none;\n    background: #FFF;\n    border-top: none;\n    border: 2px solid #FFFF00;\n    box-shadow: 0px 2px 5px #7d7c7c;\n    border-top: 0px;"},"div",document),d=s.querySelector("iframe"),c=o.querySelector("a"),f=!0;if(c.onclick=function(){f=!f,s.style.top=(f?"-4":-42)+"px",f?(0,l.default)(s).removeClass("hide"):(0,l.default)(s).addClass("hide"),c.querySelector("img").setAttribute("src",i.session.manager.app.getServerAssetUrl((f?"top":"down")+"-toggle.png"))},i.on("dispose",function(){c.onclick=null}),s.appendChild(c),d.setAttribute("style","display:block;width: 100%;border: none;height: 40px;"),"frontend"==i.session.app.type){var p=i.createHTML("","cbprogress-bar",{style:"min-width: 1px;height: 2px;display: block;opacity: 1;width: 100%;background: #0265ff;margin-top: 0px;z-index: 10000000;position: absolute;bottom: -2px;margin-left: -2px;    -webkit-box-shadow: inset 0 -1px 0 rgba(0,0,0,.15);\n    box-shadow: inset 0 -1px 0 rgba(0,0,0,.15);\n    -webkit-transition: width .6s ease;\n    transition: width .6s ease;"},"div",document);o=function(){p.style.opacity=i.session.modules.navigation.show_progressbar()||0<i.session.modules.navigation.progress()?1:0,p.style.width=i.session.modules.navigation.progress()+"%"};var h=i.session.modules.navigation.show_progressbar.subscribe(o),g=i.session.modules.navigation.progress.subscribe(o);i.on("dispose",function(){u.default.disposeKoItem(h),u.default.disposeKoItem(g)}),s.appendChild(p)}o=function(){d.contentWindow.document.open(),d.contentWindow.document.write(e),a.default.applyBindings(i.session,d.contentWindow.document.body);var r=d.contentWindow.document.createElement("style");r.appendChild(d.contentWindow.document.createTextNode(t+"\n\nbody{background:white;}\n\n"+n)),d.contentWindow.document.head.appendChild(r),"0"==i.session.app.settings().cobrowse_show_drawing_controls_to_visitor&&(d.contentWindow.document.querySelector(".browse-mode").style.display="none"),d.contentWindow.document.body.setAttribute("style"," overflow: hidden;  margin: 0;padding: 0;")},d.contentWindow&&d.contentWindow.document?o():d.onload=o,i.frame_timer=setInterval(function(){!d.parentNode&&d&&s.appendChild(d)},500),i.url_bar=s;for(var m=(o=r.m(i.url_bar_wait)).next();!m.done;m=o.next())(m=m.value)&&m(i.url_bar);i.url_bar_wait=null})},i[e].getCloseButton=function(){var e=this,t="[X]";return"80e63"!==this.session.app.accountId&&"7226e"!==this.session.app.accountId&&"9d377"!==this.session.app.accountId&&"376ed"!==this.session.app.accountId||(t="X"),this._close_button?this._close_button:(this._close_button=this.createHTML("<span>"+t+"</span>","tgcobrowsing tgCobClose",{style:"height:auto;"},"div",document),this._close_button.onclick=function(){e.session.modules.navigation.close()},this.on("dispose",function(){e._close_button.onclick=null}),this._close_button)},i[e].getBorder=function(){return this._border?this._border:this._border=this.createHTML('<span class="l"></span><span class="t"></span><span class="r"></span><span class="b"></span>',"tgcobrowsing cobrowsing-secure-border",{style:"height:auto;"},"div",document)},i[e].getExtraCSS=function(e){return e=void 0!==e&&e,this["__css_"+this.session.type+"_"+(e?1:0)]?this["__css_"+this.session.type+"_"+(e?1:0)]:("view"==this.session.type&&(c+="\n",c+=" [data-skipui-cobrowse] {    opacity: 0.7  !important;\n    filter: blur(7px) !important;\n    pointer-events: none !important; }"),("share"==this.session.type||"view"==this.session.type&&"remote-local"==this.session.config.source)&&(c+="\n",c+=' [data-skipui-cobrowse],[data-skip-cobrowse] {position: relative;outline: 3px double #3a6be3;\n}[data-skipui-cobrowse]:before,[data-skip-cobrowse]:before {\n  background-image: url("'+d.default.server+'/asset/backend/verified.svg");\n      content: " ";\n    position: absolute;\n    top: -1px;\n    right: -1px;\n    width: 22px;\n    background-color: #ffffff;\n    height: 22px;\n    background-size: 80%;\n    background-repeat: no-repeat;\n    background-position: center center;\n    border-radius: 0px 0px 0px 7px;\n    border-left: 1px solid #3a6be3;\n    border-bottom: 1px solid #3a6be3;}\n.my{'),this["__css_"+this.session.type+"_"+(e?1:0)]=this.createHTML(c,"tgcobrowsing tgStyle",{id:"tgStyle"},"style",document),this["__css_"+this.session.type+"_"+(e?1:0)])},i.getName=function(){return"user-decore"},n.default=i},477:function(e,t){e.exports="@keyframes pulsate{0%{-webkit-transform:scale(.3);transform-origin:center center;opacity:.4}to{-webkit-transform:scale(1.5);transform-origin:center center;opacity:1}}.rotate{width:30px;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3)}#MenuTable{position:fixed;z-index:9998;margin:0;padding:0}#SlideMenu{opacity:.6;border-radius:10px 0 0 10px;background-color:#000;width:30px;height:100px;padding-top:80px;color:#fff}#MainMenuTD{opacity:.9;padding-top:20px;padding-left:10px;padding-right:10px;font-weight:700;vertical-align:text-top;border-radius:15px 0 0 15px;background-color:#bfd730;color:#333;height:300px;width:300px;text-align:center}#RemoteAssistMessage{text-align:justify}#SessionKey{margin-top:15px;margin-bottom:15px;width:90%;height:30px;font-size:25px}#AdminPointer{position:absolute;z-index:9999;height:30px;width:30px;border-radius:5em;background-color:orange;opacity:.5;top:1px}.tgCobClose{position:fixed;top:0;height:auto;left:0;padding:6px;text-shadow:0 0 1px #000;background:#ff0;display:inline-block;font-size:15px;color:#383636;font-family:arial;cursor:pointer;z-index:10000000}[tg_selection_mode],[tg_selection_mode] *{cursor:pointer!important}.tg_nocobrowse{outline:4px dashed red;outline-style:double;box-shadow:0 0 7px 3px #d66060bf}[tg_selector_active],[tg_selector_div]{outline:2px solid #ff0;box-shadow:0 0 10px 3px #464644,0 0 10px 0 #ff0 inset}[tg_selector_active][tg_selector_active][tg_selector_div],[tg_selector_div][tg_selector_active][tg_selector_div]{outline:2px solid red;box-shadow:0 0 10px 3px #464644,0 0 10px 0 red inset}.ClientMousePointer{position:fixed;width:20px;margin-top:-10px;margin-left:-10px;height:28px;top:-106px;left:-100px;z-index:10000000000000;border-radius:100px;animation:.5s all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.ClientMousePointer span{font-size:10px;background-color:inherit;font-family:arial;position:absolute;padding-left:6px;line-height:12px;color:#fff;right:-20px;padding-right:7px;bottom:-10px;text-shadow:0 0 20px #000}.ClientMousePointer .point{position:absolute;width:10%;height:10%;border-radius:22px;background-color:#fff;top:45%;left:45%;z-index:10000}.CBTGDraw{position:fixed}.CBTGDraw.clicked{width:15px;height:15px;z-index:10000000000000000000000}.CBTGDraw.clicked .pulse1,.CBTGDraw.clicked .pulse2{border-radius:50%;position:absolute;height:250%;width:250%;top:-75%;left:-75%;z-index:-1;border:1px solid #d1d21b!important;background:0 0;margin:0 auto;animation-fill-mode:backwards;opacity:0}.CBTGDraw.clicked .pulse1 div,.CBTGDraw.clicked .pulse2 div{background-color:#d5de2d;-moz-opacity:.3;-webkit-opacity:.3;width:100%;height:100%;border-radius:50%;animation:fade 3s infinite;-webkit-animation:fade 3s infinite}.CBTGDraw.clicked .pulse1{animation:pulsate 1s 2;-webkit-animation:pulsate 1s 2}.CBTGDraw.clicked .pulse1 div{background:#798002}.CBTGDraw.clicked .pulse2{animation:pulsate .7s .5s 2;-webkit-animation:pulsate .7s .5s 2}.cobrowsing-secure-border .l,.cobrowsing-secure-border .r{width:3px;position:fixed;top:0;background:#ff0;z-index:100000000000;height:100%}.cobrowsing-secure-border .l{left:0}.cobrowsing-secure-border .r{right:0}.cobrowsing-secure-border .b,.cobrowsing-secure-border .t{width:100%;height:3px;position:fixed;left:0;background:#ff0;z-index:100000000000}.cobrowsing-secure-border .t{top:0}.cobrowsing-secure-border .b{bottom:0}.tagove-native-popup{position:fixed;background:#ddd;padding:19px 15px;font-family:arial;min-width:400px;border:1px solid #fff;color:#000;font-size:16px;box-shadow:0 0 16px #333;border-radius:7px}.tagove-native-popup .txt{margin-bottom:20px;display:block}.tagove-native-popup div{text-align:right}.tagove-native-popup div input[type=button]{font-size:16px;padding:2px 16px}"},478:function(n,o,s){o.__esModule=!0;var a=s(6),l=s(433),u=s(2),d=s(12),c="directbiller.com anthem.com liveandworkwell.com bcbsglobalcore.com express-scripts.com mptf.com livehealthonline.com accredo.com express-scripts.com deltadental.com vsp.com livehealthonline.com exerurgentcare.com ullico.com".split(" "),f=function(e){if(".pdf"===e.substr(-4))return!0;for(var t=r.m(c),i=t.next();!i.done;i=t.next())if(0<=e.indexOf(i.value))return!0};n=function(e){var i=l.default.call(this,e)||this;i.url=u.default.observable(null),i.base=u.default.observable(null),i.urlList=u.default.observableArray([]),i.loading=u.default.observable(!1),i.show_progressbar=u.default.observable(!1),i.progress=u.default.observable(0),i.progress_sub=i.progress.subscribe(function(e){100==e?setTimeout(function(){i.show_progressbar&&i.show_progressbar(!1),setTimeout(function(){i.progress&&i.progress(0)},0)},700):0<e?i.show_progressbar(!0):i.show_progressbar(!1)}),e.on("loading",function(){i.loading(!0)},i),e.on("view-mirror-initialize",function(e,t,n,r,o){i.url(o.url),i.base(o.base),setTimeout(function(){i.loading(!1)},200)},i),e.on("mirror-share",function(e,t,n,r,o){o.url=e.getUrl().replace("?_f=1","").replace("&_f=1",""),o.base=e.getBaseUrl(),i.url(o.url),i.base(o.base),i.loading(!1)},i);var n=function(e){var t=e.target;if("A"!==e.target.nodeName&&((t=i.findAncestor(e.target,"a"))||(t=e.target)),e.returnValue&&!e.defaultPrevented&&t.getAttribute("href")&&0!==t.getAttribute("href").indexOf("#")&&0!==t.getAttribute("href").indexOf("javascript:")&&0!==t.getAttribute("href").indexOf("about:")&&0!==t.getAttribute("href").indexOf("blob:")&&null===t.getAttribute("acq-cobrowse-new-tab")&&(!t.target||"e2595"!=acquireIO.accountId||f(t.getAttribute("href")))){i.go(i.session.modules.proxy.getAbsoluteURL(t.getAttribute("href"))),e.preventDefault(),e.stopPropagation();try{e.stopImmediatePropagation()}catch(e){}}};return e.on("mirror-share",function(e,t){i.session.mirror.when(t.defaultView,"click",function(e){n(e)},!1,!0)},i),e.on("bind-node-events",function(e){i.session.mirror.when(e,"click",function(e){if(t!=typeof e._propagation_stopped&&e._propagation_stopped)return n(e),!1},!1,!0)},i),i.session.on("back",function(e){"share"==i.session.type&&i.session.mirror&&i.session.mirror.target&&i.session.mirror.target.defaultView.history.back()},i),i.session.on("forward",function(e){"share"==i.session.type&&i.session.mirror&&i.session.mirror.target&&i.session.mirror.target.defaultView.history.forward()},i),i.session.on("go",function(e,t){"share"==i.session.type&&i.session.mirror&&i.session.mirror.target&&i.go(t)},i),i.session.on("reload",function(e,t){"share"==i.session.type&&i.session.mirror&&i.session.mirror.target&&(e=i.session.mirror.target)&&e.defaultView&&(e.defaultView.location.href=e.defaultView.location.href)},i),i},r.i(n,l.default),n[e].findAncestor=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t););return e},n[e].onDispose=function(){l.default[e].onDispose.call(this)},n[e].unbind=function(e){this.loading(!0),(e=e.defaultView)&&t!=typeof e._open_orignal&&e._open_orignal&&(e.open=e._open_orignal)},n[e].bind=function(i,n){if(i.defaultView&&!i.defaultView.Event._tg_ev_set){var r=i.defaultView.Event[e].stopPropagation;i.defaultView.Event[e].stopPropagation=function(){this._propagation_stopped=!0,r.apply(this,arguments)};var o=i.defaultView.Event[e].stopImmediatePropagation;i.defaultView.Event[e].stopImmediatePropagation=function(){this._propagation_stopped=!0,o.apply(this,arguments)},i.defaultView.Event._tg_ev_set=!0}if("share"==this.session.type){var s=i.defaultView;if(s&&t==typeof s._open_orignal){s._open_orignal=window.open;var a=this;s.open=function(e){if(0===e.indexOf("blob:")||0===e.indexOf("about:")||0===e.indexOf("javascript:")||0<=e.indexOf(".acquire.io")||"e2595"==acquireIO.accountId&&!f(e))return s._open_orignal.apply(s,arguments);a.go(a.session.modules.proxy.getAbsoluteURL(e))}}}},n[e].prevent=function(e){return e&&e.preventDefault&&e.preventDefault(),!1},n.getName=function(){return"navigation"},n[e].goBack=function(){this.session.owner.msg("back")},n[e].goForward=function(){this.session.owner.msg("forward")},n[e].goRemote=function(e){},n[e].go=function(e){var t=this;if(0>(e=e.trim()).indexOf("http:")&&0>e.indexOf("https:")&&(e="http://"+e),"share"==this.session.type){var n=document.createElement("a");n.href=e;var o=!1;if(this.session.app.settings()&&this.session.app.settings().cobrowse_domains&&(o=0<=this.session.app.settings().cobrowse_domains.indexOf(n.host)),o=o||n.host&&n.host===window.location.host||this.session.manager.app&&this.session.manager.app.cobrowse_type&&"remote"==this.session.manager.app.cobrowse_type,!e||0>e.indexOf(".")&&0>window.location.href.indexOf("localhost:2930"))return d.default.alert(acquireIO.getTransMsg("Please enter correct website url and localhost like domains are allowed. "+e));0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&(e="http://"+e);var s=acquireIO.settings().co_browsing_whitelist_domains,l=0==(s="string"==typeof s&&s.length?s.split(","):[]).length,u=document.createElement("a");u.setAttribute("href",e);for(var c=r.m(s),f=c.next();!f.done;f=c.next())if(0<=u.hostname.indexOf(f.value)){l=!0;break}/(\.pdf)$/gi.test(e)?(function(e,t){var n=e.mirror.getDocument();i==typeof n.defaultView.closePDFVIEWER&&n.defaultView.closePDFVIEWER();var r=n.createElement("div");r.setAttribute("style","    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: #FFF;\n    z-index: 999995;"),n.body.appendChild(r),n.__overflow||(n.__overflow=n.body.style.overflow),n.body.style.overflow="hidden",function(e){if(i==typeof window.acqPDFRenderHTML)return e();var t=document.createElement("script");t.setAttribute("type","application/javascript"),t.setAttribute("src",a.default.server+"/assets/PDF/pdf.js"),document.head.appendChild(t),t.onload=function(){var i=document.createElement("script");t.setAttribute("type","application/javascript"),i.setAttribute("src",a.default.server+"/assets/PDF/pdf-viewer.js"),i.onload=function(){e()},document.head.appendChild(i)}}(function(){window.acqPDFRenderHTML(r,t,a.default.server,e)})}(this.session,this.session.modules.proxy.getProxifiedUrl(e,null,!0)),"remote"==this.session.manager.app.cobrowse_type&&setTimeout(function(){t.session.unloadMirror(),t.session.loadMirror()},4e3)):l?o||"1"==this.session.app.settings().prevent_server_side_cobrowsing?o?(o=this.session.mirror.target,(n.host===window.location.host&&o&&o.defaultView?o.defaultView:window).location.href=e):((n=doc&&doc.defaultView?doc.defaultView:window)._open_orignal?n._open_orignal:n.open)(e,"_blank"):this.session.app.settings()&&1==this.session.app.settings().open_link_new_tab_cobrowse?(o=this.session.mirror.target,((n=n.host===window.location.host&&o&&o.defaultView?o.defaultView:window)._open_orignal?n._open_orignal:n.open)(e,"_blank")):this.session.manager.switchRemote(this.session,e):d.default.alert(acquireIO.getTransMsg("This domain is not allowed to cobrowse, allowed domains are : ")+s.join(","))}else this.session.owner.msg("go",e)},n[e].reload=function(){this.session.owner.msg("reload")},n[e].close=function(){var e=this;d.default.confirm(this.session.manager.app.getTransMsg("End co-browsing session?"),this.session.manager.app.getTransMsg("You are about to end the co-browsing session."),function(){e.session&&e.session.stop()})},o.default=n},479:function(i,n,o){n.__esModule=!0;var s=o(449),a=o(55),l=o(2),u=o(80),d=o(9);(i=function(e,t){this.manager=e,e.waiting(!0),this.timeline=[],this.speed=l.default.observable(2),this.speed_open=l.default.observable(!1),this.users={},this.events={},this.mevents={},t&&(t=t.split("\n"),e=JSON.parse(t.splice(0,1)),this.initUsers(e.users),this.initEvents(e.events),this.initPlay(t))})[e].initPlay2=function(e){for(var t=0,i=0,n=(e=r.m(e)).next();!n.done;n=e.next()){if(n=n.value,0==i)var o=n;else if(1==i)var s=n;else if(2==i)var a=n;else if(3==i)var l=n;else if(4==i){if("mouse-movement"==this.events[l]&&("string"==typeof n[0]&&0==n[0].indexOf("T-")?n[2]=this.mevents[n[2]]:n[1]=this.mevents[n[1]]),0<(i=Math.floor(o/100))&&(!this.timeline.length||this.timeline[this.timeline.length-1][0]!=i-1))for(var u=this.timeline.length?this.timeline[this.timeline.length-1][0]+1:0;u<i;u++)this.timeline.push([u,null]);n.unshift(this.events[l]),this.timeline.push([i,o-t,s,a,n]),t=o,i=-1}i++}this.initPlay(null)},i[e].initPlay=function(e){var t=this,i=0;if(e)for(var n=(e=r.m(e)).next();!n.done;n=e.next())if(""!=(n=n.value)&&n){var o=(n=n.split(":"))[0]+"",s=n[1],a=n[2],u=void 0;try{u=JSON.parse(n.splice(4).join(":").trim())}catch(e){console.error(e)}var d=Math.floor(o/100);if(0<d&&(!this.timeline.length||this.timeline[this.timeline.length-1][0]!=d-1))for(var c=this.timeline.length?this.timeline[this.timeline.length-1][0]+1:0;c<d;c++)this.timeline.push([c,null]);u.unshift(this.events[n[3]]),this.timeline.push([d,o-i,s,a,u]),i=o}for(this.total_time=l.default.observable(this.timeline.length?this.timeline[this.timeline.length-1][0]:0),this.current_time=l.default.observable(0),this.progress=l.default.computed(function(){return t.eventPos(t.current_time())}),this.clock1_line=[],this.clock2_line=[],i=Math.ceil(100*this.total_time()/1e3),e=1;e<=i;e++)this.clock1_line.push(this.eventPos(Math.floor(1e3*e/100)));for(i=Math.ceil(100*this.total_time()/5e3),e=1;e<=i;e++)this.clock2_line.push(this.eventPos(Math.floor(5e3*e/100)));this.status=l.default.observable("paused"),this.status.subscribe(function(){}),i=function(){t.next_position=0,t.page_loaded=!1,t.play()},this.manager.myself()?i():this.manager.myself.subscribe(i)},i[e].initEvents=function(e){for(var t in e)this.events[e[t]]=t},i[e].initMEvents=function(e){for(var t in e)this.mevents[e[t]]=t},i[e].initUsers=function(e){var t,i=null;for(t in e)if(0<=t.indexOf("agent")){i=t;break}for(var n in e)this.users[e[n]]=new s.default(n,this.manager,new a.default(this.manager.app,{id:n},"visitor",n),"online"),n==i?this.manager.tweak_myself(this.users[e[n]]):this.manager.tweak_users.push(this.users[e[n]])},i[e].replay=function(){this.next_position=0,this.play()},i[e].playPause=function(){"playing"==this.status()?this.pause():this.play()},i[e].dispose=function(){this.pause();for(var e in this)this[e]=d.default.disposeKoItem(this[e])},i[e].pause=function(){this.status("paused")},i[e].eventPos=function(e){return e/this.total_time()*100},i[e].play=function(){this.next_position>=this.timeline.length&&(this.next_position=0),this.status("playing"),this.resume()},i[e].resume=function(){var e=this;if(t!=typeof this.status&&this.status&&"paused"!=this.status()){var i=!1,n={};for(n.x$$loop$prop$i$150=this.next_position;n.x$$loop$prop$i$150<this.timeline.length;){n.x$$loop$prop$timeout$149=this.timeline[n.x$$loop$prop$i$150][1],this.current_time(this.timeline[n.x$$loop$prop$i$150][0]),setTimeout(function(t){return function(){null!=t.x$$loop$prop$timeout$149&&e.fire(t.x$$loop$prop$i$150),e.resume()}}(n),(null!=n.x$$loop$prop$timeout$149?n.x$$loop$prop$timeout$149:100)*(1/(this.page_loaded?this.speed():20))),i=!0,this.next_position=n.x$$loop$prop$i$150+1;break}i||this.status("finished")}},i[e].fire=function(e){if(this.timeline&&t!=typeof this.timeline&&t!=typeof this.timeline[e]){var i=this.timeline[e];e=this.users[i[2]],i=i[4],e&&"join"!=(i=u.default.extend([],[],i))[0]&&"share"!=i[0]&&("view"==i[0]&&(this.page_loaded=!0),e.trigger.apply(e,i),e.onMsg.apply(e,i))}},n.default=i},53:function(e,t,i){t.__esModule=!0,e=i(1),i(22),i(31),i(178),i(21),i(321),i(89),e.event.special.destroyed={remove:function(e){e.handler&&e.handler()}},t.default=e},91:function(i,n,o){n.__esModule=!0;var s=o(2),a=o(449),l=o(80),u=o(443),d=o(450),c=o(9),f=o(6),p=o(5),h=o(479),g=o(12);o(6),i=function(e,i){var n=u.default.call(this,e,i)||this;return n.chat=e,n.app=e.app,n.page_id=n.app.accountId+"-"+e.id,n.player=s.default.observable(null),n.ask_permission=s.default.observable("0"!=n.app.settings().cobrowse_ask_permission),n.type=s.default.observable("local"),n.input_url=s.default.observable(""),n.show_button=s.default.observable(n.app.settings().silent_cobrowse_button),n.active_session=s.default.observable(null),n.waiting=s.default.observable(!1),n.silentWaiting=s.default.observable(!1),n.remote_session=s.default.observable(null),n.sessions=s.default.observableArray([]),n.sessions._progress={},n.sessions.subscribe(function(){0<=n.sessions().indexOf(n.active_session())||(0==n.sessions().length?n.changeActiveSession(null):1<=n.sessions().length&&n.changeActiveSession(n.sessions()[0]))}),n.__checker_interval=setInterval(function(){n.sessions&&n.sessions()&&n.sessions().length&&t!==typeof window.tgv_virtual_visitor&&console.log("closerequestpupp-alive")},9e5),n.calling=null,n.active_session.subscribe(function(e){n.player()||n.broadcastMsg("session-switch",[e?e.session_id:null])}),n},r.i(i,u.default),i[e].cobrowseHTMLUrl=function(){for(var e=r.m([".acquire.io","localhost:2930","localhost:8883"]),t=e.next();!t.done;t=e.next())if(0<=window.location.host.indexOf(t.value))return window.location.protocol+"//"+window.location.host+"/assets/cobrowse.html";return"about:blank"},i[e].play=function(e){this.player(new h.default(this,e))},i[e].getPlayer=function(){return new h.default(this)},i[e].loadState=function(){var e=this;this.getState(function(t){t&&t.type&&"share"==t.type&&e.startShare(t.config,!1)})},i[e].init=function(e,t,i,n,o){var s=this;t=void 0===t?"view":t;var a=e instanceof d.default?e:null;if(!a)for(var u=r.m(this.sessions()),f=u.next();!f.done;f=u.next())(f=f.value).session_id==e&&(a=f);return a?(a.type=t,a.owner=n,i(a)):this.sessions&&this.sessions._progress[e]?this.once("session-"+e,i):(this.sessions._progress[e]=!0,a=new d.default(t,this,n,o,e),this.sessions.push(a),void this.app.frameMananger(function(n){var r=function(n){a.frame(n),n.window()&&"share"==t&&(0,l.default)(n.window()).on("beforeunload",function(){a&&a.unloadMirror(!0)}),i(a),s.trigger("session-"+e,a)};"share"==t?("frontend"==s.app.type&&window.acquire&&window.acquire.browser&&window.acquire.browser.device&&window.acquire.browser.device.type&&"mobile"==window.acquire.browser.device.type&&s.app.min(),"remote-local"==o.source?(r(s.app.frameMananger().main_frame),s.app.popUpMananger(function(e){e.removeSection("doc")}),a.on("dispose",function(){setTimeout(function(){n.main_frame.window()&&n.main_frame.reloadFromWindow()},1e3)},s)):"local"==o.source?o.silent?r(s.app.frameMananger().main_frame):n.checkOperation("cobrowse",function(){r(s.app.frameMananger().main_frame)}):"document"==o.source?(s.app.popUpMananger(function(e){e.addSection("doc"),a.on("dispose",function(){e.removeSection("doc")},s);var t=s.sessions.subscribe(function(i){0==i.length&&(console.log("removeSection from ds"),e.removeSection("doc"),c.default.disposeKoItem(t))})}),a.url=o.url,r(n.getBlankFrame())):"remote"==o.source&&alert("remote support pending..")):"visitor"==s.myself().user.type?"popup"==o.render?(s.app.popUpMananger(function(e){e.addSection("cobrowse"),a.on("dispose",function(){e.removeSection("cobrowse")},s);var t=s.sessions.subscribe(function(i){0==i.length&&(console.log("removeSection from ds"),e.removeSection("doc"),c.default.disposeKoItem(t))});r(n.getBlankFrame())}),a.url="about:blank"):"main"==o.render?("remote-local"==o.source?(n.checkOperation("cobrowse",function(){r(n.main_frame)},!0),a.on("dispose",function(){setTimeout(function(){window.location.reload()},1e3)},s)):n.checkOperation("cobrowse",function(){r(n.main_frame)}),s.app.popUpMananger(function(e){e.removeSection("doc")})):alert("do not support "+o.render):r(n.getBlankFrame())}))},i[e].changeActiveSession=function(e){var t=this.active_session();t&&t.modules&&t.modules.view&&"view"==e.type&&t.modules.view.lockScroll(),this.active_session(e),setTimeout(function(){e&&e.modules&&e.modules.view&&"view"==e.type&&e.modules.view.unlockScroll()},200)},i[e].keepState=function(){this.sessions()&&this.sessions().length&&"share"==this.sessions()[0].type&&this.__state&&this.setState(this.__state)},i[e].switchRemote=function(e,t){var i=e?e.session_id:void 0,n="share"==e.type?e.modules.view.getWindowSize():{width:e.modules.view.width,height:e.modules.view.height};if(e){if(e.modules.navigation.loading(!0),"share"==e.type)for(var o=r.m(e.users),s=o.next();!s.done;s=o.next())s.value.msg("loading");this.stop(e,!1,!1,!1,!0)}this.setState(null),this.input_url(t),this.startCoBrowse(i,{frame:n,ua:navigator.userAgent})},i[e].requestDocument=function(e){for(var t=this,i=r.m(this.users()),n=i.next();!n.done;n=i.next())n.value.msg("share",{type:"document",url:e,frame:"frame"},!1,function(e,i){e||"ignore"==i||(i&&"string"==typeof i?g.default.alert(t.app.getTransMsg("Error"),i):g.default.alert(t.app.getTransMsg("Cobrowse request rejected"),t.app.getTransMsg(t.app.default_text.cobrowse_response_declined)))})},i[e].startCoBrowse=function(e,t){var i=this;e=void 0===e?"T-1":e,t=void 0===t?{}:t,this.ifReady(function(){var n=i.input_url();if(!n||0>n.indexOf(".")&&0>window.location.href.indexOf("localhost:2930"))return g.default.alert(i.app.getTransMsg("Please enter correct website url and localhost like domains are allowed. "+n));0!==n.indexOf("http://")&&0!==n.indexOf("https://")&&(n="http://"+n);var o=i.app.settings().co_browsing_whitelist_domains,s=0==(o="string"==typeof o&&o.length?o.split(","):[]).length,a=document.createElement("a");a.setAttribute("href",n);for(var u=r.m(o),d=u.next();!d.done;d=u.next())if(0<=a.hostname.indexOf(d.value)){s=!0;break}if(s)if(0<o.length&&(o.push("localhost:8883"),o.push("s.acquire.io")),i.chat.data().invite_code){var c=i.app.account().uid+"-"+i.chat.data().id;i.start(),i.init(e,"view",function(r){r.modules.navigation.url(n),r.modules.navigation.loading(!0),r._fake=!0,l.default.ajax({url:f.default.remote_page_server+"/remote-page/load",type:"POST",data:{id:c,url:n,domains:o,config:t,bundle:window._acquire__front_bundle_url,script:"window.tgv_chat_code="+p.stringify(i.chat.data().invite_code)+";window.tgv_virtual_visitor=1;window.tgv_client_id="+e.split("-")[1]+";window.acquireConfig="+p.stringify(f.default)+";window.acquire=window.acquire||[]; window.acquire.push("+window._acquire_init_config+');acquire.push(function(app){ console.error("acq app ready"); app.startServerCobrowse(); setTimeout(function(){acquireIO.min()},5000); });'},dataType:"json",success:function(e){e&&e.data!==c&&(g.default.alert(e.data),i.stop(r),r.modules.navigation.close(!1))},error:function(){g.default.alert(i.app.getTransMsg("Server Error Occurred, Can't cobrowse anymore."))}})},null,{render:"main",source:"remote-local"})}else g.default.alert(i.app.getTransMsg("chat invite code not available."));else g.default.alert(i.app.getTransMsg("This domain is not allowed to cobrowse.")+"\n"+a.hostname)})},i[e].requestUpgradeFormSlientView=function(){var e=this;this.silentWaiting(!0),this.ifReady(function(){if(e.sessions()[0].owner)for(var t=r.m(e.users()),i=t.next();!i.done;i=t.next())"visitor"==(i=i.value).user.type&&i.msg("request-upgrade-form-silent",e.ask_permission(),function(t){t?(e.sessions()[0].config.silent=!1,e.sessions()[0].silent_mode(!1),e.sessions()[0].disable_cobrowsebar(!1),e.player.valueHasMutated(),e.active_session.valueHasMutated(),e.sessions()[0].modules.drawing.draw_mode.valueHasMutated(),e.requestCoBrowse()):(e.waiting(!1),e.silentWaiting(!1),g.default.alert(e.app.getTransMsg(e.app.default_text.cobrowse_response_declined)))})})},i[e].requestCoBrowse=function(e,t,i){var n=this;e=void 0===e?null:e,t=void 0===t?1:t,i=void 0!==i&&i,this.waiting(!0),this.ifReady(function(){var o=!1;if(n.app&&n.app.cobrowseCode){for(var s={},a=r.m(n.users()),l=a.next();!l.done;s={x$$loop$prop$called$154:s.x$$loop$prop$called$154,x$$loop$prop$dispo$153:s.x$$loop$prop$dispo$153},l=a.next())if("visitor"==(l=l.value).user.type&&l.client().cobrowse_code==n.app.cobrowseCode()){o=!0,!1===i&&n.waiting(!1),l.msg("scheck",function(){n.waiting(!0),n.silentWaiting(!1)}),s.x$$loop$prop$called$154=!1,s.x$$loop$prop$dispo$153=void 0;var u=function(e){return function(t,i){e.x$$loop$prop$called$154=!0,t?e.x$$loop$prop$dispo$153=n.sessions.subscribe(function(){n.waiting(!1),e.x$$loop$prop$dispo$153&&c.default.disposeKoItem(e.x$$loop$prop$dispo$153)}):(n.waiting(!1),"ignore"!=i&&(i&&"string"==typeof i?g.default.alert(i):!0!==f.default.silent&&g.default.alert(n.app.getTransMsg(n.app.default_text.cobrowse_response_declined))))}}(s);l.msg(i?"share-silent":"share",{source:e?"remote":"local",url:e,render:"popup"},n.ask_permission(),u),window._acq_cb_share_req&&clearTimeout(window._acq_cb_share_req),window._acq_cb_share_req=setTimeout(function(e){return function(){!e.x$$loop$prop$called$154&&n.waiting&&n.waiting()&&n.waiting(!1)}}(s),15e3)}}else for(s={},a=r.m(n.users()),l=a.next();!l.done;s={x$$loop$prop$called$138$158:s.x$$loop$prop$called$138$158,x$$loop$prop$dispo$139$157:s.x$$loop$prop$dispo$139$157},l=a.next())l=l.value,console.log(l.client().cobrowse_code),"visitor"==l.user.type&&(o=!0,!1===i&&n.waiting(!1),l.msg("scheck",function(){n.waiting(!0),n.silentWaiting(!1)}),s.x$$loop$prop$called$138$158=!1,s.x$$loop$prop$dispo$139$157=void 0,u=function(e){return function(t,i){e.x$$loop$prop$called$138$158=!0,t?e.x$$loop$prop$dispo$139$157=n.sessions.subscribe(function(){n.waiting(!1),e.x$$loop$prop$dispo$139$157&&c.default.disposeKoItem(e.x$$loop$prop$dispo$139$157)}):(n.waiting(!1),"ignore"!=i&&(i&&"string"==typeof i?g.default.alert(i):!0!==f.default.silent&&g.default.alert(n.app.getTransMsg(n.app.default_text.cobrowse_response_declined))))}}(s),l.msg(i?"share-silent":"share",{source:e?"remote":"local",url:e,render:"popup"},n.ask_permission(),u),window._acq_cb_share_req&&clearTimeout(window._acq_cb_share_req),window._acq_cb_share_req=setTimeout(function(e){return function(){!e.x$$loop$prop$called$138$158&&n.waiting&&n.waiting()&&n.waiting(!1)}}(s),15e3));o||!0===i||(8==t?g.default.alert(n.app.getTransMsg("Seems like user is no more connected.")):setTimeout(function(){n.requestCoBrowse&&n.requestCoBrowse(e,t+1)},1500))})},i[e].startView=function(e,i,n,r,o,s){if(t==typeof this.sessions)return console.error("manager disposed, yet receving view request.");this.init(s,"view",function(e){e.view(i,n,r)},e,o)},i[e].startShare=function(e,t){var i=this;t=void 0===t||t;var n=function(){t&&(i.setState({type:"share",config:e}),setTimeout(function(){i.setState({type:"share",config:e})},1e3)),"frontend"==i.app.type&&!0!==e.silent&&("0"!==i.app.settings().hide_button&&"false"===i.chat.active()?(i.app.ui.status("noui"),i.app.status("noui")):i.app.min());var n=i.myself().user.id;i.init("T-"+window.tgv_client_id,"share",function(t){i.calling&&(i.calling=c.default.disposeKoItem(i.calling)),i.calling=c.default.observableArrayMonitor(i.users,function(r){r.user.id!=n?t.share(r,e):r.msg("share-cancel-request",i.myself().id)},function(e){},function(e){return t&&i.calling===e})},i.myself(),e)};if(this.myself())n();else var r=this.myself.subscribe(function(){i.myself()&&(r.dispose(),n())})},i[e].stop=function(e){var i=this,n=function(){i.sessions._progress[e.session_id]=!1,e.trigger("dispose"),i.sessions.remove(e),0===i.sessions().length&&(i.calling=c.default.disposeKoItem(i.calling),i.setState(null),i.calling=null,i.chat.$call("cobrowseEventLog",["end",f.default.source])),t!==typeof window.tgv_virtual_visitor&&console.error(Error().stack),i.chat&&i.chat.__guest_mode&&i.chat.active()&&0==i.sessions().length&&i.chat.close(!0)};e.config.silent=!1,e&&e.config&&"remote-local"==e.config.source?(l.default.ajax({url:f.default.remote_page_server+"/remote-page/unload",type:"POST",data:{id:this.app.account().uid+"-"+this.chat.data().id},success:n,error:n}),setTimeout(function(){n()},2e3)):n()},i[e].stopAll=function(e,t,i,n,o){for(t=(e=r.m(this.sessions())).next();!t.done;t=e.next())t.value.stop()},i[e].onDispose=function(){if("frontend"==this.app.type&&"1"==this.app.settings().hide_button&&"1"==this.app.settings().cobrowse_only&&("5d03c"==this.app.accountId||"2dad0"==this.app.accountId||"f82eb"==this.app.accountId||"98953"==this.app.accountId||"843e0"==this.app.accountId)){var t=this.app;t.cobrowseopened(!1),t.init_status("noui"),t.status("noui"),t.ui.status("min")}this.__checker_interval&&clearInterval(this.__checker_interval),this.player()&&this.player().dispose(),this.stopAll(),u.default[e].onDispose.call(this)},i.getName=function(){return"cobrowse"},i[e].getUserClass=function(){return a.default},n.default=i}})}();